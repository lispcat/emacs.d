<!DOCTYPE html>
<html lang="en">
<head>
    
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <meta name="generator" content="mkdocs-1.6.1, mkdocs-terminal-4.7.4">
     
     
    <link rel="icon" type="image/png" sizes="192x192" href="../../../img/android-chrome-192x192.png" />
<link rel="icon" type="image/png" sizes="512x512" href="../../../img/android-chrome-512x512.png" />
<link rel="apple-touch-icon" sizes="180x180" href="../../../img/apple-touch-icon.png" />
<link rel="shortcut icon" type="image/png" sizes="48x48" href="../../../img/favicon.ico" />
<link rel="icon" type="image/png" sizes="16x16" href="../../../img/favicon-16x16.png" />
<link rel="icon" type="image/png" sizes="32x32" href="../../../img/favicon-32x32.png" />


    
 
<title>tosort - emacs.d</title>


<link href="../../../css/fontawesome/css/fontawesome.min.css" rel="stylesheet">
<link href="../../../css/fontawesome/css/solid.min.css" rel="stylesheet">
<link href="../../../css/normalize.css" rel="stylesheet">
<link href="../../../css/terminal.css" rel="stylesheet">
<link href="../../../css/theme.css" rel="stylesheet">
<link href="../../../css/theme.tile_grid.css" rel="stylesheet">
<link href="../../../css/theme.footer.css" rel="stylesheet">
<!-- gruvbox_dark color palette -->
<link href="../../../css/palettes/gruvbox_dark.css" rel="stylesheet">

<!-- page layout -->
<style>
/* initially set page layout to a one column grid */
.terminal-mkdocs-main-grid {
    display: grid;
    grid-column-gap: 1.4em;
    grid-template-columns: auto;
    grid-template-rows: auto;
}

/*  
*   when side navigation is not hidden, use a two column grid.  
*   if the screen is too narrow, fall back to the initial one column grid layout.
*   in this case the main content will be placed under the navigation panel. 
*/
@media only screen and (min-width: 70em) {
    .terminal-mkdocs-main-grid {
        grid-template-columns: 3fr 9fr;
        <!-- grid-template-columns: 4fr 9fr; -->
    }
}</style>



     
    
    

    
    <!-- search css support -->
<link href="../../../css/search/bootstrap-modal.css" rel="stylesheet">
<!-- search scripts -->
<script>
    var base_url = "../../..",
    shortcuts = "{}";
</script>
<script src="../../../js/jquery/jquery-1.10.1.min.js" defer></script>
<script src="../../../js/bootstrap/bootstrap.min.js" defer></script>
<script src="../../../js/mkdocs/base.js" defer></script>
    
    
    
    
    <script src="../../../search/main.js"></script>
    

    
</head>

<body class="terminal"><div class="container">
    <div class="terminal-nav">
        <header class="terminal-logo">
            <div id="mkdocs-terminal-site-name" class="logo terminal-prompt"><a href="/" class="no-style">emacs.d</a></div>
        </header>
        
        <nav class="terminal-menu">
            
            <ul vocab="https://schema.org/" typeof="BreadcrumbList">
                
                
                <li property="itemListElement" typeof="ListItem">
                    <a href="../../.." class="menu-item " property="item" typeof="WebPage">
                        <span property="name">Home</span>
                    </a>
                    <meta property="position" content="0">
                </li>
                
                
                <li property="itemListElement" typeof="ListItem">
                    <a href="../../../about/" class="menu-item " property="item" typeof="WebPage">
                        <span property="name">About</span>
                    </a>
                    <meta property="position" content="1">
                </li>
                
                
                
                
                
                
                
                    
                    


<li property="itemListElement" typeof="ListItem">
    <a href="#" class="menu-item" data-toggle="modal" data-target="#mkdocs_search_modal" property="item" typeof="SearchAction">
        <i aria-hidden="true" class="fa fa-search"></i> <span property="name">Search</span>
    </a>
    <meta property="position" content="2">
</li>
                    
            </ul>
            
        </nav>
    </div>
</div>
        
    <div class="container">
        <div class="terminal-mkdocs-main-grid"><aside id="terminal-mkdocs-side-panel"><nav>
  
    <ul class="terminal-mkdocs-side-nav-items">
        
          



<li class="terminal-mkdocs-side-nav-li">
    
    
    
        
        
            <a class="

    terminal-mkdocs-side-nav-item" href="../../..">Home</a>
        
    
    
    
  </li>
        
          



<li class="terminal-mkdocs-side-nav-li">
    
    
    
        
        
            <a class="

    terminal-mkdocs-side-nav-item" href="../../../about/">About</a>
        
    
    
    
  </li>
        
          



<li class="terminal-mkdocs-side-nav-li">
    
    
        
        

        
            
    
        
        
            
            
            <span class="
        
    

    terminal-mkdocs-side-nav-item terminal-mkdocs-side-nav-section-no-index">Init</span>
        
    
    
        
      
        
            <ul class="terminal-mkdocs-side-nav-li-ul">
        
            
            

            <li class="terminal-mkdocs-side-nav-li-ul-li">
                
                    
    
        
        
            <a class="

    terminal-mkdocs-side-nav-item" href="../../early-init/">early-init</a>
        
    
    
                

                
                
            </li>
        
            
            

            <li class="terminal-mkdocs-side-nav-li-ul-li">
                
                    
    
        
        
            <a class="

    terminal-mkdocs-side-nav-item" href="../../init/">init</a>
        
    
    
                

                
                
            </li>
        
    </ul>
        
    
  </li>
        
          



<li class="terminal-mkdocs-side-nav-li">
    
    
        
        

        
            
    
        
        <span class="
        
    

    terminal-mkdocs-side-nav-item--active terminal-mkdocs-side-nav-section-no-index">Src</span>
    
    
        
      
        
            <ul class="terminal-mkdocs-side-nav-li-ul">
        
            
            

            <li class="terminal-mkdocs-side-nav-li-ul-li">
                
                    
    
        
        
            <a class="

    terminal-mkdocs-side-nav-item" href="../_src/">src</a>
        
    
    
                

                
                
            </li>
        
            
            

            <li class="terminal-mkdocs-side-nav-li-ul-li">
                
                    
    
        
        
            <a class="

    terminal-mkdocs-side-nav-item" href="../%2Bbase/">base</a>
        
    
    
                

                
                
            </li>
        
            
            

            <li class="terminal-mkdocs-side-nav-li-ul-li">
                
                    
    
        
        
            <a class="

    terminal-mkdocs-side-nav-item" href="../%2Bkbd/">kbd</a>
        
    
    
                

                
                
            </li>
        
            
            

            <li class="terminal-mkdocs-side-nav-li-ul-li">
                
                    
    
        
        
            <a class="

    terminal-mkdocs-side-nav-item" href="../%2Bcompletion/">completion</a>
        
    
    
                

                
                
            </li>
        
            
            

            <li class="terminal-mkdocs-side-nav-li-ul-li">
                
                    
    
        
        
            <a class="

    terminal-mkdocs-side-nav-item" href="../%2Bide/">ide</a>
        
    
    
                

                
                
            </li>
        
            
            

            <li class="terminal-mkdocs-side-nav-li-ul-li">
                
                    
    
        
        
            <a class="

    terminal-mkdocs-side-nav-item" href="../%2Borg/">org</a>
        
    
    
                

                
                
            </li>
        
            
            

            <li class="terminal-mkdocs-side-nav-li-ul-li">
                
                    
    
        
        
            <a class="

    terminal-mkdocs-side-nav-item" href="../%2Blatex/">latex</a>
        
    
    
                

                
                
            </li>
        
            
            

            <li class="terminal-mkdocs-side-nav-li-ul-li">
                
                    
    
        
        
            <a class="

    terminal-mkdocs-side-nav-item" href="../%2Bworkspaces/">workspaces</a>
        
    
    
                

                
                
            </li>
        
            
            

            <li class="terminal-mkdocs-side-nav-li-ul-li">
                
                    
    
        
        
            <a class="

    terminal-mkdocs-side-nav-item" href="../%2Bprograms/">programs</a>
        
    
    
                

                
                
            </li>
        
            
            

            <li class="terminal-mkdocs-side-nav-li-ul-li">
                
                    
    
        
        
            <a class="

    terminal-mkdocs-side-nav-item" href="../%2Bui/">ui</a>
        
    
    
                

                
                
            </li>
        
            
            

            <li class="terminal-mkdocs-side-nav-li-ul-li">
                
                    
    
        
        
            <a class="

    terminal-mkdocs-side-nav-item" href="../%2Bmisc/">misc</a>
        
    
    
                

                
                
            </li>
        
            
            

            <li class="terminal-mkdocs-side-nav-li-ul-li">
                
                    
    
        
        <span class="

    terminal-mkdocs-side-nav-item--active">tosort</span>
    
    
                

                
                
            </li>
        
            
            

            <li class="terminal-mkdocs-side-nav-li-ul-li">
                
                    
    
        
        
            <a class="

    terminal-mkdocs-side-nav-item" href="../%2Bdocumentation/">documentation</a>
        
    
    
                

                
                
            </li>
        
    </ul>
        
    
  </li>
        
          



<li class="terminal-mkdocs-side-nav-li">
    
    
        
        

        
            
    
        
        
            
            
            <span class="
        
    

    terminal-mkdocs-side-nav-item terminal-mkdocs-side-nav-section-no-index">Misc</span>
        
    
    
        
      
        
            <ul class="terminal-mkdocs-side-nav-li-ul">
        
            
            

            <li class="terminal-mkdocs-side-nav-li-ul-li">
                
                    
    
        
        
            <a class="

    terminal-mkdocs-side-nav-item" href="../misc/%2Blog/">log</a>
        
    
    
                

                
                
            </li>
        
            
            

            <li class="terminal-mkdocs-side-nav-li-ul-li">
                
                    
    
        
        
            <a class="

    terminal-mkdocs-side-nav-item" href="../misc/%2Btools/">tools</a>
        
    
    
                

                
                
            </li>
        
    </ul>
        
    
  </li>
        
    </ul>
  
</nav>
</aside>
            <main id="terminal-mkdocs-main-content">
    
    
    
    
    

<section id="mkdocs-terminal-content">
    <div class="highlight" style="background: #1d2331"><pre style="line-height: 125%;"><span></span><code><span style="color: #D4D2C8">  </span><span style="color: #FFD173">:init</span><span style="color: #D4D2C8"> (omni-quotes-mode </span><span style="color: #DFBFFF">1</span><span style="color: #D4D2C8">)</span>
<span style="color: #D4D2C8">  </span><span style="color: #FFD173">:bind</span><span style="color: #D4D2C8"> ((</span><span style="color: #D5FF80">&quot;M-s q m&quot;</span><span style="color: #D4D2C8"> </span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8"> omni-quotes-mode)</span>
<span style="color: #D4D2C8">         (</span><span style="color: #D5FF80">&quot;M-s q p&quot;</span><span style="color: #D4D2C8"> </span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8"> omni-quotes-prev-set)</span>
<span style="color: #D4D2C8">         (</span><span style="color: #D5FF80">&quot;M-s q n&quot;</span><span style="color: #D4D2C8"> </span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8"> omni-quotes-next-set)</span>
<span style="color: #D4D2C8">         (</span><span style="color: #D5FF80">&quot;M-s q s&quot;</span><span style="color: #D4D2C8"> </span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8"> omni-quotes-shuffle-current-set)</span>
<span style="color: #D4D2C8">         (</span><span style="color: #D5FF80">&quot;M-s q q&quot;</span><span style="color: #D4D2C8"> </span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8"> omni-quotes-display-random-quote))</span>
<span style="color: #D4D2C8">  </span><span style="color: #FFD173">:setq</span>
<span style="color: #D4D2C8">  (omni-quotes-idle-interval </span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8"> </span><span style="color: #DFBFFF">60</span><span style="color: #D4D2C8">)</span>
<span style="color: #D4D2C8">  (omni-quotes-fading </span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8"> </span><span style="color: #FFD173">t</span><span style="color: #D4D2C8">)</span>
<span style="color: #D4D2C8">  (omni-quotes-fading-delay </span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8"> </span><span style="color: #DFBFFF">30</span><span style="color: #D4D2C8">)</span>
<span style="color: #D4D2C8">  </span><span style="color: #FFD173">:config</span>
<span style="color: #D4D2C8">  (omni-quotes-load-simple-quote-file </span><span style="color: #D5FF80">&quot;~/Notes/org/quotes.txt&quot;</span><span style="color: #D4D2C8"> </span><span style="color: #D5FF80">&quot;personal&quot;</span><span style="color: #D4D2C8">))</span>

<span style="color: #7E8AA1">;; (defvar eldoc-doc-buffer-separator</span>
<span style="color: #7E8AA1">;;   (concat (propertize &quot;\n&quot; &#39;face &#39;(:inherit separator-line :extend t)))</span>
<span style="color: #7E8AA1">;;   &quot;String used to separate items in Eldoc documentation buffer.&quot;)</span>


<span style="color: #7E8AA1">;;; Packages to install (check source code for malware for each first):</span>

<span style="color: #7E8AA1">;; bind-map</span>

<span style="color: #7E8AA1">;; restart-emacs</span>

<span style="color: #7E8AA1">;; golden-ratio</span>

<span style="color: #7E8AA1">;; ws-butler</span>

<span style="color: #7E8AA1">;; flycheck-package</span>

<span style="color: #7E8AA1">;; org-present</span>

<span style="color: #7E8AA1">;; emacs-purpose</span>

<span style="color: #7E8AA1">;; origami</span>

<span style="color: #7E8AA1">;; cask</span>

<span style="color: #7E8AA1">;; tao-theme</span>

<span style="color: #7E8AA1">;; emacs-color-themes</span>

<span style="color: #7E8AA1">;; hydra !!! so good</span>
<span style="color: #7E8AA1">;; https://github.com/abo-abo/hydra/wiki/Hydras-by-Topic</span>

<span style="color: #7E8AA1">;; literate programming?</span>

<span style="color: #7E8AA1">;; hl-todo</span>

<span style="color: #7E8AA1">;; breadcrumb?</span>

<span style="color: #7E8AA1">;; git-gutter?</span>

<span style="color: #7E8AA1">;; hideshow-org?</span>

<span style="color: #7E8AA1">;; wgrep</span>

<span style="color: #7E8AA1">;; look into different window strengths, lower C-h e &#39;s strength</span>

<span style="color: #7E8AA1">;; undo-tree</span>

<span style="color: #7E8AA1">;; hyperbole</span>

<span style="color: #7E8AA1">;; tree sitter</span>

<span style="color: #7E8AA1">;; eglot?</span>

<span style="color: #D4D2C8">(defhydra hydra-org (</span><span style="color: #FFD173">:color</span><span style="color: #D4D2C8"> red </span><span style="color: #FFD173">:columns</span><span style="color: #D4D2C8"> </span><span style="color: #DFBFFF">3</span><span style="color: #D4D2C8">)</span>
<span style="color: #D4D2C8">  </span><span style="color: #D5FF80">&quot;Org Mode Movements&quot;</span>
<span style="color: #D4D2C8">  (</span><span style="color: #D5FF80">&quot;n&quot;</span><span style="color: #D4D2C8"> (</span><span style="color: #FFD173">lambda</span><span style="color: #D4D2C8"> ()</span>
<span style="color: #D4D2C8">         (</span><span style="color: #FFAD66">interactive</span><span style="color: #D4D2C8">)</span>
<span style="color: #D4D2C8">         (</span><span style="color: #FFD173">mapc</span><span style="color: #D4D2C8"> </span><span style="color: #FFD173">#&#39;call-interactively</span><span style="color: #D4D2C8"> </span><span style="color: #FFAD66">&#39;</span><span style="color: #D4D2C8">(org-fold-hide-entry</span>
<span style="color: #D4D2C8">                                      outline-next-visible-heading</span>
<span style="color: #D4D2C8">                                      org-fold-show-entry</span>
<span style="color: #D4D2C8">                                      ))</span>
<span style="color: #D4D2C8">         (recenter-top-bottom)</span>
<span style="color: #D4D2C8">         (recenter-top-bottom))</span>
<span style="color: #D4D2C8">   </span><span style="color: #D5FF80">&quot;next heading&quot;</span><span style="color: #D4D2C8">)</span>
<span style="color: #D4D2C8">  (</span><span style="color: #D5FF80">&quot;p&quot;</span><span style="color: #D4D2C8"> (</span><span style="color: #FFD173">lambda</span><span style="color: #D4D2C8"> ()</span>
<span style="color: #D4D2C8">         (</span><span style="color: #FFAD66">interactive</span><span style="color: #D4D2C8">)</span>
<span style="color: #D4D2C8">         (</span><span style="color: #FFD173">mapc</span><span style="color: #D4D2C8"> </span><span style="color: #FFD173">#&#39;call-interactively</span><span style="color: #D4D2C8"> </span><span style="color: #FFAD66">&#39;</span><span style="color: #D4D2C8">(org-fold-hide-entry</span>
<span style="color: #D4D2C8">                                      outline-previous-visible-heading</span>
<span style="color: #D4D2C8">                                      org-fold-show-entry</span>
<span style="color: #D4D2C8">                                      ))</span>
<span style="color: #D4D2C8">         (recenter-top-bottom)</span>
<span style="color: #D4D2C8">         (recenter-top-bottom)</span>
<span style="color: #D4D2C8">         (recenter-top-bottom))</span>
<span style="color: #D4D2C8">   </span><span style="color: #D5FF80">&quot;prev heading&quot;</span><span style="color: #D4D2C8">)</span>
<span style="color: #D4D2C8">  (</span><span style="color: #D5FF80">&quot;N&quot;</span><span style="color: #D4D2C8"> (</span><span style="color: #FFD173">lambda</span><span style="color: #D4D2C8"> ()</span>
<span style="color: #D4D2C8">         (</span><span style="color: #FFAD66">interactive</span><span style="color: #D4D2C8">)</span>
<span style="color: #D4D2C8">         (</span><span style="color: #FFD173">mapc</span><span style="color: #D4D2C8"> </span><span style="color: #FFD173">#&#39;call-interactively</span><span style="color: #D4D2C8"> </span><span style="color: #FFAD66">&#39;</span><span style="color: #D4D2C8">(org-fold-hide-entry</span>
<span style="color: #D4D2C8">                                      org-forward-heading-same-level</span>
<span style="color: #D4D2C8">                                      org-fold-show-entry))</span>
<span style="color: #D4D2C8">         (recenter-top-bottom)</span>
<span style="color: #D4D2C8">         (recenter-top-bottom))</span>
<span style="color: #D4D2C8">   </span><span style="color: #D5FF80">&quot;next heading at same level&quot;</span><span style="color: #D4D2C8">)</span>
<span style="color: #D4D2C8">  (</span><span style="color: #D5FF80">&quot;P&quot;</span><span style="color: #D4D2C8"> (</span><span style="color: #FFD173">lambda</span><span style="color: #D4D2C8"> ()</span>
<span style="color: #D4D2C8">         (</span><span style="color: #FFAD66">interactive</span><span style="color: #D4D2C8">)</span>
<span style="color: #D4D2C8">         (</span><span style="color: #FFD173">mapc</span><span style="color: #D4D2C8"> </span><span style="color: #FFD173">#&#39;call-interactively</span><span style="color: #D4D2C8"> </span><span style="color: #FFAD66">&#39;</span><span style="color: #D4D2C8">(org-fold-hide-entry</span>
<span style="color: #D4D2C8">                                      org-backward-heading-same-level</span>
<span style="color: #D4D2C8">                                      org-fold-show-entry))</span>
<span style="color: #D4D2C8">         (recenter-top-bottom)</span>
<span style="color: #D4D2C8">         (recenter-top-bottom)</span>
<span style="color: #D4D2C8">         (recenter-top-bottom))</span>
<span style="color: #D4D2C8">   </span><span style="color: #D5FF80">&quot;prev heading at same level&quot;</span><span style="color: #D4D2C8">)</span>
<span style="color: #D4D2C8">  (</span><span style="color: #D5FF80">&quot;u&quot;</span><span style="color: #D4D2C8"> outline-up-heading </span><span style="color: #D5FF80">&quot;up heading&quot;</span><span style="color: #D4D2C8">)</span>
<span style="color: #D4D2C8">  (</span><span style="color: #D5FF80">&quot;g&quot;</span><span style="color: #D4D2C8"> org-goto </span><span style="color: #D5FF80">&quot;goto&quot;</span><span style="color: #D4D2C8"> </span><span style="color: #FFD173">:exit</span><span style="color: #D4D2C8"> </span><span style="color: #FFD173">t</span><span style="color: #D4D2C8">))</span>

<span style="color: #7E8AA1">;; https://www.reddit.com/r/emacs/comments/ioenk2/ical_import_in_emacs_calendar/</span>

<span style="color: #D4D2C8">(</span><span style="color: #FFD173">require</span><span style="color: #D4D2C8"> </span><span style="color: #DFBFFF">&#39;diary-lib</span><span style="color: #D4D2C8">)</span>

<span style="color: #D4D2C8">(</span><span style="color: #FFAD66">setq</span><span style="color: #D4D2C8"> +calendars</span>
<span style="color: #D4D2C8">      (</span><span style="color: #FFD173">with-temp-buffer</span>
<span style="color: #D4D2C8">        (</span><span style="color: #FFD173">insert-file-contents</span><span style="color: #D4D2C8"> </span><span style="color: #D5FF80">&quot;~/Private/elisp/calendar-urls.el&quot;</span><span style="color: #D4D2C8">)</span>
<span style="color: #D4D2C8">        (</span><span style="color: #FFD173">read</span><span style="color: #D4D2C8"> (</span><span style="color: #FFD173">current-buffer</span><span style="color: #D4D2C8">))))</span>

<span style="color: #D4D2C8">(</span><span style="color: #FFD173">defun</span><span style="color: #D4D2C8"> +ical-pull-all ()</span>
<span style="color: #D4D2C8">  (</span><span style="color: #FFAD66">interactive</span><span style="color: #D4D2C8">)</span>
<span style="color: #D4D2C8">  (find-file diary-file)</span>
<span style="color: #D4D2C8">  (</span><span style="color: #FFD173">erase-buffer</span><span style="color: #D4D2C8">)</span>
<span style="color: #D4D2C8">  (</span><span style="color: #FFD173">message</span><span style="color: #D4D2C8"> </span><span style="color: #D5FF80">&quot;Cleared diary file&quot;</span><span style="color: #D4D2C8">)</span>
<span style="color: #D4D2C8">  (</span><span style="color: #FFD173">mapcar</span><span style="color: #D4D2C8"> (</span><span style="color: #FFD173">lambda</span><span style="color: #D4D2C8"> (url)</span>
<span style="color: #D4D2C8">            (</span><span style="color: #FFAD66">let</span><span style="color: #D4D2C8"> ((tmpfile (url-file-local-copy url)))</span>
<span style="color: #D4D2C8">              (</span><span style="color: #FFD173">message</span><span style="color: #D4D2C8"> </span><span style="color: #D5FF80">&quot;Importing &quot;</span><span style="color: #D4D2C8">)</span>
<span style="color: #D4D2C8">              (icalendar-import-file tmpfile diary-file)</span>
<span style="color: #D4D2C8">              (</span><span style="color: #FFD173">kill-buffer</span><span style="color: #D4D2C8"> (</span><span style="color: #FFD173">car</span><span style="color: #D4D2C8"> (last (split-string tmpfile </span><span style="color: #D5FF80">&quot;/&quot;</span><span style="color: #D4D2C8">))))))</span>
<span style="color: #D4D2C8">          +calendars))</span>

<span style="color: #7E8AA1">;; no cover</span>
<span style="color: #7E8AA1">;; (use-package listen)</span>

<span style="color: #7E8AA1">;; emms extract metadata?</span>
<span style="color: #7E8AA1">;; https://www.reddit.com/r/emacs/comments/981khz/emacs_music_player_with_emms/</span>

<span style="color: #7E8AA1">;; TODO:</span>
<span style="color: #D4D2C8">(leaf emms</span>
<span style="color: #D4D2C8">  </span><span style="color: #FFD173">:config</span>
<span style="color: #D4D2C8">  (emms-all)</span>

<span style="color: #D4D2C8">  (</span><span style="color: #FFAD66">setq</span><span style="color: #D4D2C8"> emms-player-list </span><span style="color: #FFAD66">&#39;</span><span style="color: #D4D2C8">(</span>
<span style="color: #D4D2C8">                           emms-player-mpd</span>
<span style="color: #D4D2C8">                           emms-player-mpv</span>
<span style="color: #D4D2C8">                           ))</span>

<span style="color: #D4D2C8">  </span><span style="color: #7E8AA1">;; (require &#39;emms-player-mpv) ; disabled for mpd</span>

<span style="color: #D4D2C8">  </span><span style="color: #7E8AA1">;; variables</span>

<span style="color: #D4D2C8">  (</span><span style="color: #FFAD66">setq</span><span style="color: #D4D2C8"> emms-source-file-default-directory </span><span style="color: #D5FF80">&quot;~/Music/library/&quot;</span><span style="color: #D4D2C8">)</span>
<span style="color: #D4D2C8">  (</span><span style="color: #FFAD66">setq</span><span style="color: #D4D2C8"> emms-player-mpd-music-directory </span><span style="color: #D5FF80">&quot;~/Music/library/&quot;</span><span style="color: #D4D2C8">)</span>

<span style="color: #D4D2C8">  </span><span style="color: #7E8AA1">;; emms-player-mpv-parameters &#39;(&quot;--no-audio-display=no&quot;); broken</span>
<span style="color: #D4D2C8">  (</span><span style="color: #FFAD66">setq</span><span style="color: #D4D2C8"> emms-browser-covers </span><span style="color: #FFD173">#&#39;</span><span style="color: #D4D2C8">emms-browser-cache-thumbnail-async)</span>
<span style="color: #D4D2C8">  </span><span style="color: #7E8AA1">;; sort by natural order</span>
<span style="color: #D4D2C8">  (</span><span style="color: #FFAD66">setq</span><span style="color: #D4D2C8"> emms-playlist-sort-function </span><span style="color: #FFD173">#&#39;</span><span style="color: #D4D2C8">emms-playlist-sort-by-natural-order)</span>
<span style="color: #D4D2C8">  </span><span style="color: #7E8AA1">;; make streams update metadata</span>
<span style="color: #D4D2C8">  (</span><span style="color: #FFAD66">setq</span><span style="color: #D4D2C8"> emms-player-mpv-update-metadata </span><span style="color: #FFD173">t</span><span style="color: #D4D2C8">)</span>
<span style="color: #D4D2C8">  </span><span style="color: #7E8AA1">;; playlist format use m3u</span>
<span style="color: #D4D2C8">  (</span><span style="color: #FFAD66">setq</span><span style="color: #D4D2C8"> emms-source-playlist-default-format </span><span style="color: #DFBFFF">&#39;m3u</span><span style="color: #D4D2C8">)</span>
<span style="color: #D4D2C8">  </span><span style="color: #7E8AA1">;; show format</span>
<span style="color: #D4D2C8">  (</span><span style="color: #FFAD66">setq</span><span style="color: #D4D2C8"> emms-show-format </span><span style="color: #D5FF80">&quot;NP: %s&quot;</span><span style="color: #D4D2C8">)</span>
<span style="color: #D4D2C8">  </span><span style="color: #7E8AA1">;; ;; sort album by natural order</span>
<span style="color: #D4D2C8">  </span><span style="color: #7E8AA1">;; ;; (setq  emms-browser-album-sort-function #&#39;emms-playlist-sort-by-natural-order)</span>
<span style="color: #D4D2C8">  </span><span style="color: #7E8AA1">;; this actually sorts by natural order upon adding</span>
<span style="color: #D4D2C8">  (add-hook </span><span style="color: #DFBFFF">&#39;emms-playlist-source-inserted-hook</span>
<span style="color: #D4D2C8">            </span><span style="color: #FFD173">#&#39;</span><span style="color: #D4D2C8">emms-playlist-sort-by-natural-order)</span>

<span style="color: #D4D2C8">  </span><span style="color: #7E8AA1">;; backends</span>


<span style="color: #D4D2C8">  </span><span style="color: #7E8AA1">;; get info from mpd</span>
<span style="color: #D4D2C8">  </span><span style="color: #7E8AA1">;; (add-to-list &#39;emms-info-functions &#39;emms-info-mpd)</span>
<span style="color: #D4D2C8">  </span><span style="color: #7E8AA1">;; ? show current song when next song starts?</span>
<span style="color: #D4D2C8">  </span><span style="color: #7E8AA1">;; (add-hook &#39;emms-player-started-hook #&#39;emms-show)</span>
<span style="color: #D4D2C8">  </span><span style="color: #7E8AA1">;; connect to mpd</span>
<span style="color: #D4D2C8">  </span><span style="color: #7E8AA1">;; (setq emms-player-mpd-server-name &quot;localhost&quot;)</span>
<span style="color: #D4D2C8">  </span><span style="color: #7E8AA1">;; (setq emms-player-mpd-server-port &quot;6600&quot;)</span>
<span style="color: #D4D2C8">  </span><span style="color: #7E8AA1">;; (setq emms-player-mpd-music-directory &quot;\~/Music/library&quot;)</span>
<span style="color: #D4D2C8">  </span><span style="color: #7E8AA1">;; (emms-player-mpd-connect)</span>

<span style="color: #D4D2C8">  </span><span style="color: #7E8AA1">;; persistent playlists</span>
<span style="color: #D4D2C8">  </span><span style="color: #7E8AA1">;; (require &#39;emms-history)</span>
<span style="color: #D4D2C8">  (emms-history-load)</span>

<span style="color: #D4D2C8">  </span><span style="color: #7E8AA1">;; display</span>
<span style="color: #D4D2C8">  (emms-mode-line-mode </span><span style="color: #DFBFFF">0</span><span style="color: #D4D2C8">)</span>

<span style="color: #D4D2C8">  </span><span style="color: #7E8AA1">;; enable playerctl pausing</span>

<span style="color: #D4D2C8">  </span><span style="color: #7E8AA1">;; DISABLE LATER when using mpd-mpris service</span>
<span style="color: #D4D2C8">  </span><span style="color: #7E8AA1">;; (require &#39;emms-mpris)</span>
<span style="color: #D4D2C8">  </span><span style="color: #7E8AA1">;; (emms-mpris-enable) ;; (will make emacs hog mpris media playing active)</span>

<span style="color: #D4D2C8">  </span><span style="color: #7E8AA1">;; (setq emms-player-list &#39;(emms-player-mpd))</span>
<span style="color: #D4D2C8">  (add-to-list </span><span style="color: #DFBFFF">&#39;emms-info-functions</span><span style="color: #D4D2C8"> </span><span style="color: #DFBFFF">&#39;emms-info-mpd</span><span style="color: #D4D2C8">)</span>
<span style="color: #D4D2C8">  (add-to-list </span><span style="color: #DFBFFF">&#39;emms-player-list</span><span style="color: #D4D2C8"> </span><span style="color: #DFBFFF">&#39;emms-player-mpd</span><span style="color: #D4D2C8">)</span>

<span style="color: #D4D2C8">  </span><span style="color: #7E8AA1">;; browser</span>

<span style="color: #D4D2C8">  </span><span style="color: #7E8AA1">;; TODO: add this function to emms-info-functions (hard to implement?)</span>
<span style="color: #D4D2C8">  </span><span style="color: #7E8AA1">;; (instead make my own function that runs ffprobe and gets info? might be better)</span>
<span style="color: #D4D2C8">  (</span><span style="color: #FFD173">defun</span><span style="color: #D4D2C8"> +emms-show-album-cover-in-emacs ()</span>
<span style="color: #D4D2C8">    (</span><span style="color: #FFAD66">interactive</span><span style="color: #D4D2C8">)</span>
<span style="color: #D4D2C8">    (if-let ((track (emms-playlist-current-selected-track))</span>
<span style="color: #D4D2C8">             (song-path (emms-track-get track </span><span style="color: #DFBFFF">&#39;name</span><span style="color: #D4D2C8">))</span>
<span style="color: #D4D2C8">             (cover-path </span><span style="color: #D5FF80">&quot;/tmp/emms-album-cover.jpg&quot;</span><span style="color: #D4D2C8">)) </span><span style="color: #7E8AA1">;; is jpg fine?</span>
<span style="color: #D4D2C8">        (</span><span style="color: #FFAD66">if</span><span style="color: #D4D2C8"> (not (</span><span style="color: #FFD173">file-exists-p</span><span style="color: #D4D2C8"> song-path))</span>
<span style="color: #D4D2C8">            (</span><span style="color: #FFD173">message</span><span style="color: #D4D2C8"> </span><span style="color: #D5FF80">&quot;Error: cannot find path to currently playing song&quot;</span><span style="color: #D4D2C8">)</span>
<span style="color: #D4D2C8">          (</span><span style="color: #FFD173">when</span><span style="color: #D4D2C8"> (</span><span style="color: #FFD173">file-exists-p</span><span style="color: #D4D2C8"> cover-path)</span>
<span style="color: #D4D2C8">            (</span><span style="color: #FFD173">delete-file</span><span style="color: #D4D2C8"> cover-path))</span>
<span style="color: #D4D2C8">          (</span><span style="color: #FFAD66">let</span><span style="color: #D4D2C8"> ((exit-code</span>
<span style="color: #D4D2C8">                 (shell-command</span>
<span style="color: #D4D2C8">                  (</span><span style="color: #FFD173">message</span><span style="color: #D4D2C8"> </span><span style="color: #D5FF80">&quot;extracting: %s&quot;</span>
<span style="color: #D4D2C8">                           (</span><span style="color: #FFD173">format</span><span style="color: #D4D2C8"> </span><span style="color: #D5FF80">&quot;ffmpeg -i %s -an -vcodec copy %s -y&quot;</span>
<span style="color: #D4D2C8">                                   (shell-quote-argument song-path)</span>
<span style="color: #D4D2C8">                                   (shell-quote-argument cover-path))))))</span>
<span style="color: #D4D2C8">            (</span><span style="color: #FFAD66">cond</span><span style="color: #D4D2C8"> ((</span><span style="color: #FFD173">/=</span><span style="color: #D4D2C8"> exit-code </span><span style="color: #DFBFFF">0</span><span style="color: #D4D2C8">)</span>
<span style="color: #D4D2C8">                   (</span><span style="color: #FFD173">message</span><span style="color: #D4D2C8"> </span><span style="color: #D5FF80">&quot;Error: ffmpeg cover extraction failed with code %s&quot;</span>
<span style="color: #D4D2C8">                            exit-code))</span>
<span style="color: #D4D2C8">                  ((</span><span style="color: #FFD173">file-exists-p</span><span style="color: #D4D2C8"> cover-path)</span>
<span style="color: #D4D2C8">                   (</span><span style="color: #FFD173">with-current-buffer</span><span style="color: #D4D2C8"> (</span><span style="color: #FFD173">get-buffer-create</span><span style="color: #D4D2C8"> </span><span style="color: #D5FF80">&quot;*Album Cover*&quot;</span><span style="color: #D4D2C8">)</span>
<span style="color: #D4D2C8">                     (</span><span style="color: #FFD173">erase-buffer</span><span style="color: #D4D2C8">)</span>
<span style="color: #D4D2C8">                     (insert-image (create-image cover-path))</span>
<span style="color: #D4D2C8">                     (pop-to-buffer (</span><span style="color: #FFD173">current-buffer</span><span style="color: #D4D2C8">))))</span>
<span style="color: #D4D2C8">                  (</span><span style="color: #FFD173">t</span>
<span style="color: #D4D2C8">                   (</span><span style="color: #FFD173">message</span><span style="color: #D4D2C8"> </span><span style="color: #D5FF80">&quot;Error: ffmpeg cover at cover-path not found.&quot;</span><span style="color: #D4D2C8">)))))</span>
<span style="color: #D4D2C8">      (</span><span style="color: #FFD173">message</span><span style="color: #D4D2C8"> </span><span style="color: #D5FF80">&quot;No song currently playing&quot;</span><span style="color: #D4D2C8">)))</span>

<span style="color: #D4D2C8">  </span><span style="color: #7E8AA1">;; Hook to display album cover in Emacs when the track changes</span>
<span style="color: #D4D2C8">  </span><span style="color: #7E8AA1">;; (add-hook &#39;emms-player-started-hook &#39;emms-show-album-cover-in-emacs)</span>

<span style="color: #D4D2C8">  </span><span style="color: #7E8AA1">;;;; Personal functions for features: ;;;;</span>

<span style="color: #D4D2C8">  </span><span style="color: #7E8AA1">;; Edit a playlist:</span>
<span style="color: #D4D2C8">  </span><span style="color: #7E8AA1">;; - steps:</span>
<span style="color: #D4D2C8">  </span><span style="color: #7E8AA1">;;   - create a new playlist buffer named &quot;%s_real&quot;.</span>
<span style="color: #D4D2C8">  </span><span style="color: #7E8AA1">;;   - make modifications as needed.</span>
<span style="color: #D4D2C8">  </span><span style="color: #7E8AA1">;;   - command to write and delete buffer.</span>
<span style="color: #D4D2C8">  </span><span style="color: #7E8AA1">;; - create a function to reload the playlist from file, as well as write.</span>
<span style="color: #D4D2C8">  </span><span style="color: #7E8AA1">;; - indicator to show whether the playlist has been modified or not?</span>
<span style="color: #D4D2C8">  </span><span style="color: #7E8AA1">;;</span>
<span style="color: #D4D2C8">  </span><span style="color: #7E8AA1">;; Add a song to a playlist:</span>
<span style="color: #D4D2C8">  </span><span style="color: #7E8AA1">;; - steps:</span>
<span style="color: #D4D2C8">  </span><span style="color: #7E8AA1">;;   - create a new playlist buffer named &quot;%s_real&quot;.</span>
<span style="color: #D4D2C8">  </span><span style="color: #7E8AA1">;;   - place the song at the bottom of the playlist.</span>
<span style="color: #D4D2C8">  </span><span style="color: #7E8AA1">;;   - make modifications as needed.</span>
<span style="color: #D4D2C8">  </span><span style="color: #7E8AA1">;;   - command to write and delete buffer.</span>
<span style="color: #D4D2C8">  </span><span style="color: #7E8AA1">;;</span>
<span style="color: #D4D2C8">  </span><span style="color: #7E8AA1">;;</span>
<span style="color: #D4D2C8">  </span><span style="color: #7E8AA1">;; workflow:</span>
<span style="color: #D4D2C8">  </span><span style="color: #7E8AA1">;; - idea: if playing a playlist (any) and i want to add a song from it to a specific playlist (regardless of if it&#39;s loaded or not), the process is to load the playlist from the file in a new buffer, make the change, save, then close. And for convenience, if that playlist i added the song in is loaded and i wanna see those changes be updated, run a function to reload the playlist from its source file.</span>
<span style="color: #D4D2C8">  </span><span style="color: #7E8AA1">;;</span>
<span style="color: #D4D2C8">  </span><span style="color: #7E8AA1">;; Ideas:</span>
<span style="color: #D4D2C8">  </span><span style="color: #7E8AA1">;; - playlist editing mode?</span>
<span style="color: #D4D2C8">  </span><span style="color: #7E8AA1">;; - edit one playlist at a time? bc need to preserve the source playlist file somewhere</span>
<span style="color: #D4D2C8">  </span><span style="color: #7E8AA1">;; - does a playlist file regenerate from the file when opened?</span>
<span style="color: #D4D2C8">  </span><span style="color: #7E8AA1">;; - command: `emms-playlist-editor-open-playlist&#39;</span>
<span style="color: #D4D2C8">  </span><span style="color: #7E8AA1">;;   - emms-metaplaylist-mode-new-buffer (to create new buffer with buffer-name</span>
<span style="color: #D4D2C8">  </span><span style="color: #7E8AA1">;;   -</span>
<span style="color: #D4D2C8">  </span><span style="color: #7E8AA1">;;</span>
<span style="color: #D4D2C8">  </span><span style="color: #7E8AA1">;;</span>
<span style="color: #D4D2C8">  </span><span style="color: #7E8AA1">;; Implement:</span>
<span style="color: #D4D2C8">  </span><span style="color: #7E8AA1">;; - function: add a playlist file to a new playlist buffer (&quot;%s_EDITING&quot;)</span>

<span style="color: #D4D2C8">  </span><span style="color: #7E8AA1">;;   (require &#39;cl-lib)</span>

<span style="color: #D4D2C8">  </span><span style="color: #7E8AA1">;;   (defvar emms-playlist-editor--buffer-name &quot;EDITING&quot;</span>
<span style="color: #D4D2C8">  </span><span style="color: #7E8AA1">;;     &quot;The buffer name for editing.&quot;)</span>

<span style="color: #D4D2C8">  </span><span style="color: #7E8AA1">;;   (defvar emms-playlist-editor--current-path nil</span>
<span style="color: #D4D2C8">  </span><span style="color: #7E8AA1">;;     &quot;The filepath to the current \&quot;EDITING\&quot; file.</span>
<span style="color: #D4D2C8">  </span><span style="color: #7E8AA1">;; Used in `emms-playlist-edit-open-playlist&#39;.&quot;)</span>

<span style="color: #D4D2C8">  </span><span style="color: #7E8AA1">;;   (defun emms-playlist-editor-open-playlist ()</span>
<span style="color: #D4D2C8">  </span><span style="color: #7E8AA1">;;     (interactive)</span>
<span style="color: #D4D2C8">  </span><span style="color: #7E8AA1">;;     (let* ((buffer-name emms-playlist-editor--buffer-name)</span>
<span style="color: #D4D2C8">  </span><span style="color: #7E8AA1">;;         (buffer-real (get-buffer buffer-name)))</span>
<span style="color: #D4D2C8">  </span><span style="color: #7E8AA1">;;       ;; handle case if buffer already exists</span>
<span style="color: #D4D2C8">  </span><span style="color: #7E8AA1">;;       (when buffer-real</span>
<span style="color: #D4D2C8">  </span><span style="color: #7E8AA1">;;      (switch-to-buffer buffer-real)</span>
<span style="color: #D4D2C8">  </span><span style="color: #7E8AA1">;;      (if (yes-or-no-p (format &quot;Buffer \&quot;%s\&quot; already exists. Delete and contiune?&quot;</span>
<span style="color: #D4D2C8">  </span><span style="color: #7E8AA1">;;                               buffer-name))</span>
<span style="color: #D4D2C8">  </span><span style="color: #7E8AA1">;;          (kill-buffer buffer-name) ;; and continue...</span>
<span style="color: #D4D2C8">  </span><span style="color: #7E8AA1">;;        (message &quot;aborting...&quot;)</span>
<span style="color: #D4D2C8">  </span><span style="color: #7E8AA1">;;        (return)))</span>
<span style="color: #D4D2C8">  </span><span style="color: #7E8AA1">;;       (let ((buf (get-buffer-create buffer-name)))</span>
<span style="color: #D4D2C8">  </span><span style="color: #7E8AA1">;;      ;; init new &quot;EDITING&quot; buffer as playlist buffer</span>
<span style="color: #D4D2C8">  </span><span style="color: #7E8AA1">;;      (with-current-buffer buf</span>
<span style="color: #D4D2C8">  </span><span style="color: #7E8AA1">;;        (emms-playlist-mode)</span>
<span style="color: #D4D2C8">  </span><span style="color: #7E8AA1">;;        (setq emms-playlist-buffer-p t))</span>
<span style="color: #D4D2C8">  </span><span style="color: #7E8AA1">;;      ;; update metaplaylist</span>
<span style="color: #D4D2C8">  </span><span style="color: #7E8AA1">;;      (emms-metaplaylist-mode-go)</span>
<span style="color: #D4D2C8">  </span><span style="color: #7E8AA1">;;      (emms-metaplaylist-mode-update)</span>
<span style="color: #D4D2C8">  </span><span style="color: #7E8AA1">;;      ;; go to new buffer</span>
<span style="color: #D4D2C8">  </span><span style="color: #7E8AA1">;;      (switch-to-buffer</span>
<span style="color: #D4D2C8">  </span><span style="color: #7E8AA1">;;       (emms-playlist-set-playlist-buffer buf))</span>
<span style="color: #D4D2C8">  </span><span style="color: #7E8AA1">;;      ;; select playlist file</span>
<span style="color: #D4D2C8">  </span><span style="color: #7E8AA1">;;      (let ((file (read-file-name &quot;Playlist file: &quot;</span>
<span style="color: #D4D2C8">  </span><span style="color: #7E8AA1">;;                                  emms-source-file-default-directory</span>
<span style="color: #D4D2C8">  </span><span style="color: #7E8AA1">;;                                  emms-source-file-default-directory</span>
<span style="color: #D4D2C8">  </span><span style="color: #7E8AA1">;;                                  t)))</span>
<span style="color: #D4D2C8">  </span><span style="color: #7E8AA1">;;        ;; add files</span>
<span style="color: #D4D2C8">  </span><span style="color: #7E8AA1">;;        (emms-add-playlist file)</span>
<span style="color: #D4D2C8">  </span><span style="color: #7E8AA1">;;        (setq emms-playlist-editor--current-path file)</span>
<span style="color: #D4D2C8">  </span><span style="color: #7E8AA1">;;        ))))</span>

<span style="color: #D4D2C8">  </span><span style="color: #7E8AA1">;;   (defun emms-playlist-editor-save-playlist ()</span>
<span style="color: #D4D2C8">  </span><span style="color: #7E8AA1">;;     (interactive)</span>
<span style="color: #D4D2C8">  </span><span style="color: #7E8AA1">;;     (let* ((buffer-name emms-playlist-editor--buffer-name)</span>
<span style="color: #D4D2C8">  </span><span style="color: #7E8AA1">;;         (buffer-real (get-buffer buffer-name))</span>
<span style="color: #D4D2C8">  </span><span style="color: #7E8AA1">;;         (path emms-playlist-editor--current-path))</span>
<span style="color: #D4D2C8">  </span><span style="color: #7E8AA1">;;       (if (not buffer-real)</span>
<span style="color: #D4D2C8">  </span><span style="color: #7E8AA1">;;        (message &quot;Buffer \&quot;%s\&quot; doesn&#39;t exist, exiting...&quot; buffer-name)</span>
<span style="color: #D4D2C8">  </span><span style="color: #7E8AA1">;;      (switch-to-buffer</span>
<span style="color: #D4D2C8">  </span><span style="color: #7E8AA1">;;       (emms-playlist-set-playlist-buffer buffer-real))</span>
<span style="color: #D4D2C8">  </span><span style="color: #7E8AA1">;;      ;; save to file</span>
<span style="color: #D4D2C8">  </span><span style="color: #7E8AA1">;;      (let ((format</span>
<span style="color: #D4D2C8">  </span><span style="color: #7E8AA1">;;             (emms-source-playlist-read-format)))</span>
<span style="color: #D4D2C8">  </span><span style="color: #7E8AA1">;;        (emms-playlist-save format path))</span>


<span style="color: #D4D2C8">  </span><span style="color: #7E8AA1">;;      )))</span>

<span style="color: #D4D2C8">  </span><span style="color: #7E8AA1">;; PLAYLISTS buffer, where i keep playlist files, autoload all</span>

<span style="color: #7E8AA1">;;;;;;;;; YKW, fuck it, im just gonna tag everything in info-note (WORKS!)</span>
<span style="color: #D4D2C8">  </span><span style="color: #7E8AA1">;; filter by note with emms-playlist-limit-to-info-note</span>
<span style="color: #D4D2C8">  </span><span style="color: #7E8AA1">;; e.g. :nice:hardcore:</span>

<span style="color: #D4D2C8">  </span><span style="color: #7E8AA1">;; (emms-browser-add-category &quot;note&quot; &#39;info-note)</span>
<span style="color: #D4D2C8">  (</span><span style="color: #FFD173">defun</span><span style="color: #D4D2C8"> emms-browser-search-by-note ()</span>
<span style="color: #D4D2C8">    (</span><span style="color: #FFAD66">interactive</span><span style="color: #D4D2C8">)</span>
<span style="color: #D4D2C8">    (emms-browser-search </span><span style="color: #FFAD66">&#39;</span><span style="color: #D4D2C8">(info-note)))</span>

<span style="color: #D4D2C8">  </span><span style="color: #7E8AA1">;;; As for playlists, i&#39;ll still be making it for, well, when i wanna make playlists,</span>
<span style="color: #D4D2C8">  </span><span style="color: #7E8AA1">;; but i wont need to rely on those special custom functions. i can suffice with just:</span>
<span style="color: #D4D2C8">  </span><span style="color: #7E8AA1">;; - `emms-add-playlist-file&#39; (add playlist file) [maybe i should automate creating a PLAYLISTS buffer]</span>
<span style="color: #D4D2C8">  </span><span style="color: #7E8AA1">;; - `emms-playlist-mode-load-playlist&#39; (expand playlist file in new playlist buffer)</span>
<span style="color: #D4D2C8">  </span><span style="color: #7E8AA1">;; - C-x C-s or `emms-playlist-save&#39; (save playlist to file)</span>
<span style="color: #D4D2C8">  </span><span style="color: #7E8AA1">;; - `rename-buffer&#39; (rename buffer to liking)</span>
<span style="color: #D4D2C8">  </span><span style="color: #7E8AA1">;;</span>
<span style="color: #D4D2C8">  </span><span style="color: #7E8AA1">;; TODO: bind the above to keybinds</span>


<span style="color: #D4D2C8">  </span><span style="color: #7E8AA1">;;; Holy shit writing my emacs config modules in a declarative org file is actually pretty realistic and doable!?!</span>
<span style="color: #D4D2C8">  </span><span style="color: #7E8AA1">;; It&#39;ll make everything so much nicer... documentation as well...</span>

<span style="color: #D4D2C8">  (</span><span style="color: #FFAD66">defvar</span><span style="color: #D4D2C8"> emms-playlistedit-orig-path </span><span style="color: #FFD173">nil</span>
<span style="color: #D4D2C8">    </span><span style="color: #D5FF80">&quot;A local var for playlist buffers with the path to its playlist file.&quot;</span><span style="color: #D4D2C8">)</span>

<span style="color: #D4D2C8">  </span><span style="color: #7E8AA1">;; emms-playlistedit-open : given a path to the playlist file, adds the playlist file to the &quot;PLAYLISTS&quot; buffer, load playlist in a new generic playlist buffer, with a buffer-local variable for orig path set (or maybe the playlist file?),</span>
<span style="color: #D4D2C8">  </span><span style="color: #7E8AA1">;; - simplify by adding the playlist file to a &quot;PLAYLISTS&quot; buffer, then loading it from there?</span>
<span style="color: #D4D2C8">  (</span><span style="color: #FFD173">defun</span><span style="color: #D4D2C8"> emms-playlistedit-playlist-file-edit ()</span>
<span style="color: #D4D2C8">    </span><span style="color: #D5FF80">&quot;Given a loaded playlist file at point, load in a new playlist buffer for editing.</span>
<span style="color: #D5FF80">It&#39;s essentially the same as </span><span style="color: #DFBFFF">`emms-playlist-mode-load-playlist&#39;</span><span style="color: #D5FF80"> but it also sets</span>
<span style="color: #D5FF80">a buffer-local variable </span><span style="color: #DFBFFF">`emms-playlistedit-orig-path&#39;</span><span style="color: #D5FF80">.&quot;</span>
<span style="color: #D4D2C8">    (</span><span style="color: #FFAD66">interactive</span><span style="color: #D4D2C8">)</span>
<span style="color: #D4D2C8">    </span><span style="color: #7E8AA1">;; load the playlist at point</span>
<span style="color: #D4D2C8">    </span><span style="color: #7E8AA1">;; (below is a copy of `emms-playlist-mode-load-playlist&#39; (we want to use the `name&#39; variable later)).</span>
<span style="color: #D4D2C8">    (</span><span style="color: #FFAD66">let*</span><span style="color: #D4D2C8"> ((track (emms-playlist-track-at))</span>
<span style="color: #D4D2C8">           (name (emms-track-get track </span><span style="color: #DFBFFF">&#39;name</span><span style="color: #D4D2C8">)))</span>
<span style="color: #D4D2C8">      (emms-playlist-select (</span><span style="color: #FFD173">point</span><span style="color: #D4D2C8">))</span>
<span style="color: #D4D2C8">      (</span><span style="color: #FFD173">run-hooks</span><span style="color: #D4D2C8"> </span><span style="color: #DFBFFF">&#39;emms-player-stopped-hook</span><span style="color: #D4D2C8">)</span>
<span style="color: #D4D2C8">      (switch-to-buffer</span>
<span style="color: #D4D2C8">       (emms-playlist-set-playlist-buffer (emms-playlist-new)))</span>
<span style="color: #D4D2C8">      (emms-add-playlist name)</span>
<span style="color: #D4D2C8">      </span><span style="color: #7E8AA1">;; let the buffer-local variable to be `name&#39; and also rename.</span>
<span style="color: #D4D2C8">      (</span><span style="color: #FFAD66">let</span><span style="color: #D4D2C8"> ((buf emms-playlist-buffer))</span>
<span style="color: #D4D2C8">        (</span><span style="color: #FFD173">with-current-buffer</span><span style="color: #D4D2C8"> buf</span>
<span style="color: #D4D2C8">          (</span><span style="color: #FFD173">setq-local</span><span style="color: #D4D2C8"> emms-playlistedit-orig-path name)</span>
<span style="color: #D4D2C8">          (</span><span style="color: #FFD173">rename-buffer</span><span style="color: #D4D2C8"> (</span><span style="color: #FFD173">concat</span><span style="color: #D4D2C8"> (</span><span style="color: #FFD173">buffer-name</span><span style="color: #D4D2C8">)</span>
<span style="color: #D4D2C8">                                 </span><span style="color: #D5FF80">&quot; : &quot;</span>
<span style="color: #D4D2C8">                                 name))))))</span>

<span style="color: #D4D2C8">  </span><span style="color: #7E8AA1">;; (defun emms-playlistedit-create-playlist-buffer (buffer-name)</span>
<span style="color: #D4D2C8">  </span><span style="color: #7E8AA1">;;     &quot;Creates a new playlist buffer BUFFER-NAME.</span>
<span style="color: #D4D2C8">  </span><span style="color: #7E8AA1">;; Basically the same as `emms-metaplaylist-mode-new-buffer&#39; but without switching</span>
<span style="color: #D4D2C8">  </span><span style="color: #7E8AA1">;; to the metaplaylist view.&quot;</span>
<span style="color: #D4D2C8">  </span><span style="color: #7E8AA1">;;     (interactive &quot;sBuffer Name: &quot;)</span>
<span style="color: #D4D2C8">  </span><span style="color: #7E8AA1">;;     (if (get-buffer buffer-name)</span>
<span style="color: #D4D2C8">  </span><span style="color: #7E8AA1">;;      (error &quot;Buffer must not exist.&quot;)</span>
<span style="color: #D4D2C8">  </span><span style="color: #7E8AA1">;;       (let ((buf (get-buffer-create buffer-name)))</span>
<span style="color: #D4D2C8">  </span><span style="color: #7E8AA1">;;      (with-current-buffer buf</span>
<span style="color: #D4D2C8">  </span><span style="color: #7E8AA1">;;        (emms-playlist-mode)</span>
<span style="color: #D4D2C8">  </span><span style="color: #7E8AA1">;;        (setq emms-playlist-buffer-p t)))</span>
<span style="color: #D4D2C8">  </span><span style="color: #7E8AA1">;;       (emms-metaplaylist-mode-go)</span>
<span style="color: #D4D2C8">  </span><span style="color: #7E8AA1">;;       (emms-metaplaylist-mode-update)))</span>

<span style="color: #D4D2C8">  </span><span style="color: #7E8AA1">;; (defun emms-playlistedit-open-playlist-file ()</span>
<span style="color: #D4D2C8">  </span><span style="color: #7E8AA1">;;     &quot;Creates a new playlist buffer from a playlist-file, saving the original path.</span>
<span style="color: #D4D2C8">  </span><span style="color: #7E8AA1">;; The original path is saved in a buffer-local variable.&quot;</span>
<span style="color: #D4D2C8">  </span><span style="color: #7E8AA1">;;     )</span>

<span style="color: #D4D2C8">  </span><span style="color: #7E8AA1">;; emms-playlistedit-goto-playlist-buffer : goes to the &quot;PLAYLISTS&quot; buffer. If not exist, create new then go to.</span>

<span style="color: #D4D2C8">  </span><span style="color: #7E8AA1">;;</span>


<span style="color: #D4D2C8">  </span><span style="color: #7E8AA1">;; - load playlist contents in a new playlist buffer</span>
<span style="color: #D4D2C8">  </span><span style="color: #7E8AA1">;;   - use a buffer-local variable for the origin path</span>
<span style="color: #D4D2C8">  </span><span style="color: #7E8AA1">;; - make changes</span>
<span style="color: #D4D2C8">  </span><span style="color: #7E8AA1">;; - emms-playlist-diff-and-save</span>
<span style="color: #D4D2C8">  </span><span style="color: #7E8AA1">;;   - if the buffer-local variable is nil, then just do emms-playlist-save as usual</span>
<span style="color: #D4D2C8">  </span><span style="color: #7E8AA1">;;   - if the buffer-local variable is set, then:</span>
<span style="color: #D4D2C8">  </span><span style="color: #7E8AA1">;;     - load the original playlist in &quot;TMP-%s&quot;, and diff compare new and old playlists. (error if path to playlist invalid).</span>
<span style="color: #D4D2C8">  </span><span style="color: #7E8AA1">;;     - proceed?</span>
<span style="color: #D4D2C8">  </span><span style="color: #7E8AA1">;;       - if yes, overwrite playlist file with new changes, then delete &quot;TMP-%s&quot;.</span>
<span style="color: #D4D2C8">  </span><span style="color: #7E8AA1">;;       - if no, delete &quot;TMP-%s&quot; and cancel.</span>



<span style="color: #D4D2C8">  </span><span style="color: #7E8AA1">;; maybe switch to mpv (mpd is too jank) (usempvScripts.mpris)</span>


<span style="color: #D4D2C8">  </span><span style="color: #FFD173">:init</span>
<span style="color: #D4D2C8">  (leader-bind</span>
<span style="color: #D4D2C8">    </span><span style="color: #D5FF80">&quot;e&quot;</span><span style="color: #D4D2C8"> </span><span style="color: #FFAD66">&#39;</span><span style="color: #D4D2C8">(</span><span style="color: #FFD173">:ignore</span><span style="color: #D4D2C8"> </span><span style="color: #FFD173">t</span><span style="color: #D4D2C8"> </span><span style="color: #FFD173">:wk</span><span style="color: #D4D2C8"> </span><span style="color: #D5FF80">&quot;emms&quot;</span><span style="color: #D4D2C8">)</span>
<span style="color: #D4D2C8">    </span><span style="color: #D5FF80">&quot;e e&quot;</span><span style="color: #D4D2C8"> </span><span style="color: #DFBFFF">&#39;emms</span>
<span style="color: #D4D2C8">    </span><span style="color: #D5FF80">&quot;e k&quot;</span><span style="color: #D4D2C8"> </span><span style="color: #DFBFFF">&#39;emms-playlist-current-kill</span>

<span style="color: #D4D2C8">    </span><span style="color: #7E8AA1">;; goto</span>
<span style="color: #D4D2C8">    </span><span style="color: #D5FF80">&quot;e p&quot;</span><span style="color: #D4D2C8"> </span><span style="color: #DFBFFF">&#39;emms-playlist-mode-go</span>
<span style="color: #D4D2C8">    </span><span style="color: #D5FF80">&quot;e m&quot;</span><span style="color: #D4D2C8"> </span><span style="color: #DFBFFF">&#39;emms-metaplaylist-mode-go</span>

<span style="color: #D4D2C8">    </span><span style="color: #7E8AA1">;; browse</span>
<span style="color: #D4D2C8">    </span><span style="color: #D5FF80">&quot;e B&quot;</span><span style="color: #D4D2C8"> </span><span style="color: #DFBFFF">&#39;emms-smart-browse</span>
<span style="color: #D4D2C8">    </span><span style="color: #D5FF80">&quot;e b&quot;</span><span style="color: #D4D2C8"> </span><span style="color: #FFAD66">&#39;</span><span style="color: #D4D2C8">(</span><span style="color: #FFD173">:ignore</span><span style="color: #D4D2C8"> </span><span style="color: #FFD173">t</span><span style="color: #D4D2C8"> </span><span style="color: #FFD173">:wk</span><span style="color: #D4D2C8"> </span><span style="color: #D5FF80">&quot;browse&quot;</span><span style="color: #D4D2C8">)</span>
<span style="color: #D4D2C8">    </span><span style="color: #D5FF80">&quot;e b b&quot;</span><span style="color: #D4D2C8"> </span><span style="color: #DFBFFF">&#39;emms-browser</span>
<span style="color: #D4D2C8">    </span><span style="color: #D5FF80">&quot;e b a&quot;</span><span style="color: #D4D2C8"> </span><span style="color: #DFBFFF">&#39;emms-browse-by-album</span>
<span style="color: #D4D2C8">    </span><span style="color: #D5FF80">&quot;e b A&quot;</span><span style="color: #D4D2C8"> </span><span style="color: #DFBFFF">&#39;emms-browse-by-artist</span>

<span style="color: #D4D2C8">    </span><span style="color: #7E8AA1">;; control</span>
<span style="color: #D4D2C8">    </span><span style="color: #D5FF80">&quot;e c&quot;</span><span style="color: #D4D2C8"> </span><span style="color: #FFAD66">&#39;</span><span style="color: #D4D2C8">(</span><span style="color: #FFD173">:ignore</span><span style="color: #D4D2C8"> </span><span style="color: #FFD173">t</span><span style="color: #D4D2C8"> </span><span style="color: #FFD173">:wk</span><span style="color: #D4D2C8"> </span><span style="color: #D5FF80">&quot;control&quot;</span><span style="color: #D4D2C8">)</span>
<span style="color: #D4D2C8">    </span><span style="color: #D5FF80">&quot;e c P&quot;</span><span style="color: #D4D2C8"> </span><span style="color: #DFBFFF">&#39;emms-pause</span>
<span style="color: #D4D2C8">    </span><span style="color: #D5FF80">&quot;e c n&quot;</span><span style="color: #D4D2C8"> </span><span style="color: #DFBFFF">&#39;emms-next</span>
<span style="color: #D4D2C8">    </span><span style="color: #D5FF80">&quot;e c p&quot;</span><span style="color: #D4D2C8"> </span><span style="color: #DFBFFF">&#39;emms-previous</span>
<span style="color: #D4D2C8">    </span><span style="color: #D5FF80">&quot;e c s&quot;</span><span style="color: #D4D2C8"> </span><span style="color: #DFBFFF">&#39;emms-seek-to</span>

<span style="color: #D4D2C8">    </span><span style="color: #7E8AA1">;; info</span>
<span style="color: #D4D2C8">    </span><span style="color: #D5FF80">&quot;e i&quot;</span><span style="color: #D4D2C8"> </span><span style="color: #FFAD66">&#39;</span><span style="color: #D4D2C8">(</span><span style="color: #FFD173">:ignore</span><span style="color: #D4D2C8"> </span><span style="color: #FFD173">t</span><span style="color: #D4D2C8"> </span><span style="color: #FFD173">:wk</span><span style="color: #D4D2C8"> </span><span style="color: #D5FF80">&quot;info&quot;</span><span style="color: #D4D2C8">)</span>
<span style="color: #D4D2C8">    </span><span style="color: #D5FF80">&quot;e i i&quot;</span><span style="color: #D4D2C8"> </span><span style="color: #DFBFFF">&#39;emms-show</span>
<span style="color: #D4D2C8">    </span><span style="color: #D5FF80">&quot;e i a&quot;</span><span style="color: #D4D2C8"> </span><span style="color: #DFBFFF">&#39;emms-show-all</span>
<span style="color: #D4D2C8">    </span><span style="color: #D5FF80">&quot;e i m&quot;</span><span style="color: #D4D2C8"> </span><span style="color: #DFBFFF">&#39;emms-player-mpd-show</span>

<span style="color: #D4D2C8">    </span><span style="color: #7E8AA1">;; sort</span>
<span style="color: #D4D2C8">    </span><span style="color: #D5FF80">&quot;e S&quot;</span><span style="color: #D4D2C8"> </span><span style="color: #FFAD66">&#39;</span><span style="color: #D4D2C8">(</span><span style="color: #FFD173">:ignore</span><span style="color: #D4D2C8"> </span><span style="color: #FFD173">t</span><span style="color: #D4D2C8"> </span><span style="color: #FFD173">:wk</span><span style="color: #D4D2C8"> </span><span style="color: #D5FF80">&quot;sort&quot;</span><span style="color: #D4D2C8">)</span>
<span style="color: #D4D2C8">    </span><span style="color: #D5FF80">&quot;e S n&quot;</span><span style="color: #D4D2C8"> </span><span style="color: #DFBFFF">&#39;emms-playlist-sort-by-natural-order</span>
<span style="color: #D4D2C8">    </span><span style="color: #D5FF80">&quot;e S r&quot;</span><span style="color: #D4D2C8"> </span><span style="color: #DFBFFF">&#39;emms-playlist-sort-by-random</span>
<span style="color: #D4D2C8">    </span><span style="color: #D5FF80">&quot;e S o&quot;</span><span style="color: #D4D2C8"> </span><span style="color: #DFBFFF">&#39;emms-playlist-sort-by-info-note</span><span style="color: #D4D2C8">))</span>

<span style="color: #7E8AA1">;; Sample config:</span>
<span style="color: #7E8AA1">;; https://protesilaos.com/emacs/denote#h:5d16932d-4f7b-493d-8e6a-e5c396b15fd6</span>

<span style="color: #7E8AA1">;; TODO: to look into!!</span>
<span style="color: #7E8AA1">;; - https://baty.blog/2022/keeping-my-org-agenda-updated</span>
<span style="color: #7E8AA1">;; - https://forum.systemcrafters.net/t/bring-denote-into-org-agenda-with-prettyness/779</span>
<span style="color: #7E8AA1">;; https://www.reddit.com/r/emacs/comments/1er9wj4/denote_and_agenda_practical_use/</span>

<span style="color: #7E8AA1">;; Note:</span>
<span style="color: #7E8AA1">;; - dired: &quot;% m&quot; then &quot;t&quot; then `k&#39; to kill and filter down results</span>

<span style="color: #D4D2C8">(leaf denote</span>
<span style="color: #D4D2C8">  </span><span style="color: #FFD173">:init</span>
<span style="color: #D4D2C8">  (leader-bind</span>
<span style="color: #D4D2C8">    </span><span style="color: #D5FF80">&quot;n&quot;</span><span style="color: #D4D2C8"> </span><span style="color: #FFAD66">&#39;</span><span style="color: #D4D2C8">(</span><span style="color: #FFD173">:ignore</span><span style="color: #D4D2C8"> </span><span style="color: #FFD173">t</span><span style="color: #D4D2C8"> </span><span style="color: #FFD173">:wk</span><span style="color: #D4D2C8"> </span><span style="color: #D5FF80">&quot;denote&quot;</span><span style="color: #D4D2C8">)</span>
<span style="color: #D4D2C8">    </span><span style="color: #D5FF80">&quot;nn&quot;</span><span style="color: #D4D2C8"> </span><span style="color: #DFBFFF">&#39;denote</span>
<span style="color: #D4D2C8">    </span><span style="color: #D5FF80">&quot;ns&quot;</span><span style="color: #D4D2C8"> </span><span style="color: #DFBFFF">&#39;denote-subdirectory</span>
<span style="color: #D4D2C8">    </span><span style="color: #7E8AA1">;; &quot;nf&quot; &#39;denote-open-or-create ;; moved to consult-notes</span>

<span style="color: #D4D2C8">    </span><span style="color: #7E8AA1">;; renaming</span>
<span style="color: #D4D2C8">    </span><span style="color: #D5FF80">&quot;nr&quot;</span><span style="color: #D4D2C8"> </span><span style="color: #FFAD66">&#39;</span><span style="color: #D4D2C8">(</span><span style="color: #FFD173">:ignore</span><span style="color: #D4D2C8"> </span><span style="color: #FFD173">t</span><span style="color: #D4D2C8"> </span><span style="color: #FFD173">:wk</span><span style="color: #D4D2C8"> </span><span style="color: #D5FF80">&quot;rename file&quot;</span><span style="color: #D4D2C8">)</span>
<span style="color: #D4D2C8">    </span><span style="color: #D5FF80">&quot;nrf&quot;</span><span style="color: #D4D2C8"> </span><span style="color: #FFAD66">&#39;</span><span style="color: #D4D2C8">(denote-rename-file </span><span style="color: #FFD173">:wk</span><span style="color: #D4D2C8"> </span><span style="color: #D5FF80">&quot;rename file&quot;</span><span style="color: #D4D2C8">)</span>
<span style="color: #D4D2C8">    </span><span style="color: #D5FF80">&quot;nrt&quot;</span><span style="color: #D4D2C8"> </span><span style="color: #FFAD66">&#39;</span><span style="color: #D4D2C8">(denote-rename-file-title </span><span style="color: #FFD173">:wk</span><span style="color: #D4D2C8"> </span><span style="color: #D5FF80">&quot;rename title&quot;</span><span style="color: #D4D2C8">)</span>
<span style="color: #D4D2C8">    </span><span style="color: #D5FF80">&quot;nrk&quot;</span><span style="color: #D4D2C8"> </span><span style="color: #FFAD66">&#39;</span><span style="color: #D4D2C8">(denote-rename-file-keywords </span><span style="color: #FFD173">:wk</span><span style="color: #D4D2C8"> </span><span style="color: #D5FF80">&quot;rename keywords&quot;</span><span style="color: #D4D2C8">)</span>

<span style="color: #D4D2C8">    </span><span style="color: #7E8AA1">;; dired</span>
<span style="color: #D4D2C8">    </span><span style="color: #D5FF80">&quot;nd&quot;</span><span style="color: #D4D2C8"> </span><span style="color: #FFAD66">&#39;</span><span style="color: #D4D2C8">(</span><span style="color: #FFD173">:ignore</span><span style="color: #D4D2C8"> </span><span style="color: #FFD173">t</span><span style="color: #D4D2C8"> </span><span style="color: #FFD173">:wk</span><span style="color: #D4D2C8"> </span><span style="color: #D5FF80">&quot;dired&quot;</span><span style="color: #D4D2C8">)</span>
<span style="color: #D4D2C8">    </span><span style="color: #D5FF80">&quot;ndj&quot;</span><span style="color: #D4D2C8"> </span><span style="color: #FFAD66">&#39;</span><span style="color: #D4D2C8">(+denote-directory-jump </span><span style="color: #FFD173">:wk</span><span style="color: #D4D2C8"> </span><span style="color: #D5FF80">&quot;jump to denote dir&quot;</span><span style="color: #D4D2C8">)</span>
<span style="color: #D4D2C8">    </span><span style="color: #D5FF80">&quot;ndr&quot;</span><span style="color: #D4D2C8"> </span><span style="color: #FFAD66">&#39;</span><span style="color: #D4D2C8">(denote-dired-rename-marked-files </span><span style="color: #FFD173">:wk</span><span style="color: #D4D2C8"> </span><span style="color: #D5FF80">&quot;marked rename&quot;</span><span style="color: #D4D2C8">)</span>
<span style="color: #D4D2C8">    </span><span style="color: #D5FF80">&quot;ndk&quot;</span><span style="color: #D4D2C8"> </span><span style="color: #FFAD66">&#39;</span><span style="color: #D4D2C8">(denote-dired-rename-marked-files-add-keywords</span>
<span style="color: #D4D2C8">            </span><span style="color: #FFD173">:wk</span><span style="color: #D4D2C8"> </span><span style="color: #D5FF80">&quot;marked add keywords&quot;</span><span style="color: #D4D2C8">)</span>
<span style="color: #D4D2C8">    </span><span style="color: #D5FF80">&quot;ndK&quot;</span><span style="color: #D4D2C8"> </span><span style="color: #FFAD66">&#39;</span><span style="color: #D4D2C8">(denote-dired-rename-marked-files-remove-keywords</span>
<span style="color: #D4D2C8">            </span><span style="color: #FFD173">:wk</span><span style="color: #D4D2C8"> </span><span style="color: #D5FF80">&quot;marked remove keywords&quot;</span><span style="color: #D4D2C8">)</span>

<span style="color: #D4D2C8">    </span><span style="color: #7E8AA1">;; links</span>
<span style="color: #D4D2C8">    </span><span style="color: #D5FF80">&quot;nl&quot;</span><span style="color: #D4D2C8"> </span><span style="color: #FFAD66">&#39;</span><span style="color: #D4D2C8">(</span><span style="color: #FFD173">:ignore</span><span style="color: #D4D2C8"> </span><span style="color: #FFD173">t</span><span style="color: #D4D2C8"> </span><span style="color: #FFD173">:wk</span><span style="color: #D4D2C8"> </span><span style="color: #D5FF80">&quot;links&quot;</span><span style="color: #D4D2C8">)</span>
<span style="color: #D4D2C8">    </span><span style="color: #D5FF80">&quot;nll&quot;</span><span style="color: #D4D2C8"> </span><span style="color: #FFAD66">&#39;</span><span style="color: #D4D2C8">(denote-find-link </span><span style="color: #FFD173">:wk</span><span style="color: #D4D2C8"> </span><span style="color: #D5FF80">&quot;find links in file&quot;</span><span style="color: #D4D2C8">)</span>
<span style="color: #D4D2C8">    </span><span style="color: #D5FF80">&quot;nln&quot;</span><span style="color: #D4D2C8"> </span><span style="color: #FFAD66">&#39;</span><span style="color: #D4D2C8">(denote-link </span><span style="color: #FFD173">:wk</span><span style="color: #D4D2C8"> </span><span style="color: #D5FF80">&quot;new link&quot;</span><span style="color: #D4D2C8">)</span>
<span style="color: #D4D2C8">    </span><span style="color: #D5FF80">&quot;nla&quot;</span><span style="color: #D4D2C8"> </span><span style="color: #FFAD66">&#39;</span><span style="color: #D4D2C8">(denote-add-links </span><span style="color: #FFD173">:wk</span><span style="color: #D4D2C8"> </span><span style="color: #D5FF80">&quot;add links for metanote&quot;</span><span style="color: #D4D2C8">)</span>

<span style="color: #D4D2C8">    </span><span style="color: #7E8AA1">;; backlinks</span>
<span style="color: #D4D2C8">    </span><span style="color: #D5FF80">&quot;nb&quot;</span><span style="color: #D4D2C8"> </span><span style="color: #FFAD66">&#39;</span><span style="color: #D4D2C8">(</span><span style="color: #FFD173">:ignore</span><span style="color: #D4D2C8"> </span><span style="color: #FFD173">t</span><span style="color: #D4D2C8"> </span><span style="color: #FFD173">:wk</span><span style="color: #D4D2C8"> </span><span style="color: #D5FF80">&quot;backlinks&quot;</span><span style="color: #D4D2C8">)</span>
<span style="color: #D4D2C8">    </span><span style="color: #D5FF80">&quot;nbb&quot;</span><span style="color: #D4D2C8"> </span><span style="color: #FFAD66">&#39;</span><span style="color: #D4D2C8">(denote-find-backlink </span><span style="color: #FFD173">:wk</span><span style="color: #D4D2C8"> </span><span style="color: #D5FF80">&quot;find backlinks&quot;</span><span style="color: #D4D2C8">)</span>
<span style="color: #D4D2C8">    </span><span style="color: #D5FF80">&quot;nbl&quot;</span><span style="color: #D4D2C8"> </span><span style="color: #FFAD66">&#39;</span><span style="color: #D4D2C8">(denote-backlinks </span><span style="color: #FFD173">:wk</span><span style="color: #D4D2C8"> </span><span style="color: #D5FF80">&quot;list backlinks&quot;</span><span style="color: #D4D2C8">)</span>

<span style="color: #D4D2C8">    </span><span style="color: #7E8AA1">;; org-dblocks</span>
<span style="color: #D4D2C8">    </span><span style="color: #D5FF80">&quot;no&quot;</span><span style="color: #D4D2C8"> </span><span style="color: #FFAD66">&#39;</span><span style="color: #D4D2C8">(</span><span style="color: #FFD173">:ignore</span><span style="color: #D4D2C8"> </span><span style="color: #FFD173">t</span><span style="color: #D4D2C8"> </span><span style="color: #FFD173">:wk</span><span style="color: #D4D2C8"> </span><span style="color: #D5FF80">&quot;org-dblocks&quot;</span><span style="color: #D4D2C8">)</span>
<span style="color: #D4D2C8">    </span><span style="color: #D5FF80">&quot;nol&quot;</span><span style="color: #D4D2C8"> </span><span style="color: #FFAD66">&#39;</span><span style="color: #D4D2C8">(denote-org-extras-dblock-insert-links </span><span style="color: #FFD173">:wk</span><span style="color: #D4D2C8"> </span><span style="color: #D5FF80">&quot;dblock links&quot;</span><span style="color: #D4D2C8">)</span>
<span style="color: #D4D2C8">    </span><span style="color: #D5FF80">&quot;nof&quot;</span><span style="color: #D4D2C8"> </span><span style="color: #FFAD66">&#39;</span><span style="color: #D4D2C8">(denote-org-extras-dblock-insert-files </span><span style="color: #FFD173">:wk</span><span style="color: #D4D2C8"> </span><span style="color: #D5FF80">&quot;dblock files&quot;</span><span style="color: #D4D2C8">)</span>
<span style="color: #D4D2C8">    </span><span style="color: #D5FF80">&quot;nob&quot;</span><span style="color: #D4D2C8"> </span><span style="color: #FFAD66">&#39;</span><span style="color: #D4D2C8">(denote-org-extras-dblock-insert-backlinks </span><span style="color: #FFD173">:wk</span><span style="color: #D4D2C8"> </span><span style="color: #D5FF80">&quot;dblock backlinks&quot;</span><span style="color: #D4D2C8">)</span>
<span style="color: #D4D2C8">    </span><span style="color: #D5FF80">&quot;noa&quot;</span><span style="color: #D4D2C8"> </span><span style="color: #FFAD66">&#39;</span><span style="color: #D4D2C8">(+denote-insert-file-local-dblock-update-mode </span><span style="color: #FFD173">:wk</span><span style="color: #D4D2C8"> </span><span style="color: #D5FF80">&quot;insert file-local dblock mode&quot;</span><span style="color: #D4D2C8">)</span>
<span style="color: #D4D2C8">    )</span>

<span style="color: #D4D2C8">  </span><span style="color: #FFD173">:config</span>

<span style="color: #D4D2C8">  </span><span style="color: #7E8AA1">;; variables</span>
<span style="color: #D4D2C8">  (</span><span style="color: #FFAD66">setq</span><span style="color: #D4D2C8"> denote-directory (</span><span style="color: #FFD173">expand-file-name</span><span style="color: #D4D2C8"> </span><span style="color: #D5FF80">&quot;~/Notes/denote&quot;</span><span style="color: #D4D2C8">))</span>
<span style="color: #D4D2C8">  (</span><span style="color: #FFAD66">setq</span><span style="color: #D4D2C8"> denote-known-keywords </span><span style="color: #FFAD66">&#39;</span><span style="color: #D4D2C8">(</span><span style="color: #D5FF80">&quot;emacs&quot;</span><span style="color: #D4D2C8"> </span><span style="color: #D5FF80">&quot;meta&quot;</span>
<span style="color: #D4D2C8">                                </span><span style="color: #D5FF80">&quot;art&quot;</span><span style="color: #D4D2C8"> </span><span style="color: #D5FF80">&quot;hobbies&quot;</span><span style="color: #D4D2C8"> </span><span style="color: #D5FF80">&quot;ideas&quot;</span>
<span style="color: #D4D2C8">                                </span><span style="color: #D5FF80">&quot;class&quot;</span><span style="color: #D4D2C8"> </span><span style="color: #D5FF80">&quot;todo&quot;</span>
<span style="color: #D4D2C8">                                </span><span style="color: #D5FF80">&quot;calc1&quot;</span><span style="color: #D4D2C8"> </span><span style="color: #D5FF80">&quot;arthist&quot;</span>
<span style="color: #D4D2C8">                                </span><span style="color: #D5FF80">&quot;systemsoftware&quot;</span><span style="color: #D4D2C8"> </span><span style="color: #D5FF80">&quot;bio2&quot;</span>
<span style="color: #D4D2C8">                                </span><span style="color: #D5FF80">&quot;random&quot;</span><span style="color: #D4D2C8">))</span>
<span style="color: #D4D2C8">  (</span><span style="color: #FFAD66">setq</span><span style="color: #D4D2C8"> denote-prompts </span><span style="color: #FFAD66">&#39;</span><span style="color: #D4D2C8">(title keywords subdirectory))</span>
<span style="color: #D4D2C8">  (</span><span style="color: #FFAD66">setq</span><span style="color: #D4D2C8"> denote-save-buffers </span><span style="color: #FFD173">t</span><span style="color: #D4D2C8">)</span>
<span style="color: #D4D2C8">  (</span><span style="color: #FFAD66">setq</span><span style="color: #D4D2C8"> denote-excluded-directories-regexp</span>
<span style="color: #D4D2C8">        (</span><span style="color: #FFD173">concat</span>
<span style="color: #D4D2C8">         </span><span style="color: #7E8AA1">;; (^|/) ... (/|$)</span>
<span style="color: #D4D2C8">         </span><span style="color: #D5FF80">&quot;\\(^\\|/\\)&quot;</span><span style="color: #D4D2C8"> </span><span style="color: #D5FF80">&quot;[aA]rchived?&quot;</span><span style="color: #D4D2C8"> </span><span style="color: #D5FF80">&quot;\\(/\\|$\\)&quot;</span><span style="color: #D4D2C8"> </span><span style="color: #D5FF80">&quot;\\|&quot;</span>
<span style="color: #D4D2C8">         </span><span style="color: #D5FF80">&quot;\\(^\\|/\\)&quot;</span><span style="color: #D4D2C8"> </span><span style="color: #D5FF80">&quot;[eE]xcluded?&quot;</span><span style="color: #D4D2C8"> </span><span style="color: #D5FF80">&quot;\\(/\\|$\\)&quot;</span><span style="color: #D4D2C8"> </span><span style="color: #D5FF80">&quot;\\|&quot;</span>
<span style="color: #D4D2C8">         </span><span style="color: #D5FF80">&quot;\\(^\\|/\\)&quot;</span><span style="color: #D4D2C8"> </span><span style="color: #D5FF80">&quot;_.*&quot;</span><span style="color: #D4D2C8">          </span><span style="color: #D5FF80">&quot;\\(/\\|$\\)&quot;</span><span style="color: #D4D2C8">))</span>

<span style="color: #D4D2C8">  </span><span style="color: #7E8AA1">;; when renaming, don&#39;t prompt for modify-file-name</span>
<span style="color: #D4D2C8">  (</span><span style="color: #FFAD66">setq</span><span style="color: #D4D2C8"> denote-rename-confirmations </span><span style="color: #FFAD66">&#39;</span><span style="color: #D4D2C8">(rewrite-front-matter))</span>

<span style="color: #D4D2C8">  </span><span style="color: #7E8AA1">;; prettify</span>

<span style="color: #D4D2C8">  </span><span style="color: #7E8AA1">;; rename buffer/mode-line</span>
<span style="color: #D4D2C8">  (</span><span style="color: #FFAD66">setq</span><span style="color: #D4D2C8"> denote-rename-buffer-format </span><span style="color: #D5FF80">&quot;[D] %t%b  _%k&quot;</span><span style="color: #D4D2C8">)</span>
<span style="color: #D4D2C8">  (denote-rename-buffer-mode </span><span style="color: #DFBFFF">1</span><span style="color: #D4D2C8">)</span>

<span style="color: #D4D2C8">  </span><span style="color: #7E8AA1">;; dired fontify</span>
<span style="color: #D4D2C8">  (add-hook </span><span style="color: #DFBFFF">&#39;dired-mode-hook</span><span style="color: #D4D2C8"> </span><span style="color: #FFD173">#&#39;</span><span style="color: #D4D2C8">denote-dired-mode)</span>

<span style="color: #D4D2C8">  </span><span style="color: #7E8AA1">;; links in text files</span>
<span style="color: #D4D2C8">  (add-hook </span><span style="color: #DFBFFF">&#39;text-mode-hook</span><span style="color: #D4D2C8"> </span><span style="color: #FFD173">#&#39;</span><span style="color: #D4D2C8">denote-fontify-links-mode-maybe)</span>

<span style="color: #D4D2C8">  </span><span style="color: #7E8AA1">;; other</span>

<span style="color: #D4D2C8">  (</span><span style="color: #FFD173">defun</span><span style="color: #D4D2C8"> +denote-directory-jump ()</span>
<span style="color: #D4D2C8">    (</span><span style="color: #FFAD66">interactive</span><span style="color: #D4D2C8">)</span>
<span style="color: #D4D2C8">    (dired denote-directory))</span>

<span style="color: #D4D2C8">  </span><span style="color: #7E8AA1">;; org-capture</span>

<span style="color: #D4D2C8">  (</span><span style="color: #FFD173">with-eval-after-load</span><span style="color: #D4D2C8"> </span><span style="color: #DFBFFF">&#39;org-capture</span>
<span style="color: #D4D2C8">    (add-to-list </span><span style="color: #DFBFFF">&#39;org-capture-templates</span>
<span style="color: #D4D2C8">                 </span><span style="color: #FFAD66">&#39;</span><span style="color: #D4D2C8">(</span><span style="color: #D5FF80">&quot;n&quot;</span><span style="color: #D4D2C8"> </span><span style="color: #D5FF80">&quot;New note (with Denote)&quot;</span><span style="color: #D4D2C8"> plain</span>
<span style="color: #D4D2C8">                   (file denote-last-path)</span>
<span style="color: #D4D2C8">                   </span><span style="color: #FFD173">#&#39;</span><span style="color: #D4D2C8">denote-org-capture</span>
<span style="color: #D4D2C8">                   </span><span style="color: #FFD173">:no-save</span><span style="color: #D4D2C8"> </span><span style="color: #FFD173">t</span>
<span style="color: #D4D2C8">                   </span><span style="color: #FFD173">:immediate-finish</span><span style="color: #D4D2C8"> </span><span style="color: #FFD173">nil</span>
<span style="color: #D4D2C8">                   </span><span style="color: #FFD173">:kill-buffer</span><span style="color: #D4D2C8"> </span><span style="color: #FFD173">t</span>
<span style="color: #D4D2C8">                   </span><span style="color: #FFD173">:jump-to-captured</span><span style="color: #D4D2C8"> </span><span style="color: #FFD173">t</span><span style="color: #D4D2C8">)))</span>

<span style="color: #D4D2C8">  </span><span style="color: #7E8AA1">;; org-dblocks</span>

<span style="color: #D4D2C8">  </span><span style="color: #7E8AA1">;; (define-minor-mode org-dblock-update-minor-mode</span>
<span style="color: #D4D2C8">  </span><span style="color: #7E8AA1">;;   &quot;A minor mode that automatically updates Org mode dynamic blocks before saving.&quot;</span>
<span style="color: #D4D2C8">  </span><span style="color: #7E8AA1">;;   :lighter &quot; OrgDBlocks&quot;</span>
<span style="color: #D4D2C8">  </span><span style="color: #7E8AA1">;;   :global nil</span>
<span style="color: #D4D2C8">  </span><span style="color: #7E8AA1">;;   (if (and org-dblock-update-minor-mode (eq major-mode &#39;org-mode))</span>
<span style="color: #D4D2C8">  </span><span style="color: #7E8AA1">;;    (add-hook &#39;before-save-hook #&#39;org-update-all-dblocks nil t)</span>
<span style="color: #D4D2C8">  </span><span style="color: #7E8AA1">;;     (remove-hook &#39;before-save-hook #&#39;org-update-all-dblocks t)))</span>

<span style="color: #D4D2C8">  </span><span style="color: #7E8AA1">;; (defun +denote-insert-file-local-dblock-update-mode ()</span>
<span style="color: #D4D2C8">  </span><span style="color: #7E8AA1">;;   (interactive)</span>
<span style="color: #D4D2C8">  </span><span style="color: #7E8AA1">;;   (if (eq major-mode &#39;org-mode)</span>
<span style="color: #D4D2C8">  </span><span style="color: #7E8AA1">;;    (add-file-local-variable</span>
<span style="color: #D4D2C8">  </span><span style="color: #7E8AA1">;;     &#39;eval</span>
<span style="color: #D4D2C8">  </span><span style="color: #7E8AA1">;;     &#39;(org-dblock-update-minor-mode))</span>
<span style="color: #D4D2C8">  </span><span style="color: #7E8AA1">;;     (message &quot;Not in an org-mode buffer&quot;)))</span>

<span style="color: #D4D2C8">  </span><span style="color: #7E8AA1">;; journal</span>

<span style="color: #D4D2C8">  </span><span style="color: #7E8AA1">;; (require &#39;denote-journal-extras)</span>
<span style="color: #D4D2C8">  </span><span style="color: #7E8AA1">;; (setq denote-journal-extras-directory</span>
<span style="color: #D4D2C8">  </span><span style="color: #7E8AA1">;;       (expand-file-name &quot;journal&quot; denote-directory))</span>
<span style="color: #D4D2C8">  )</span>

<span style="color: #D4D2C8">(leaf denote-journal</span>
<span style="color: #D4D2C8">  </span><span style="color: #FFD173">:config</span>
<span style="color: #D4D2C8">  (leader-bind</span>
<span style="color: #D4D2C8">    </span><span style="color: #7E8AA1">;; journal</span>

<span style="color: #D4D2C8">    </span><span style="color: #D5FF80">&quot;nj&quot;</span><span style="color: #D4D2C8"> </span><span style="color: #FFAD66">&#39;</span><span style="color: #D4D2C8">(</span><span style="color: #FFD173">:ignore</span><span style="color: #D4D2C8"> </span><span style="color: #FFD173">t</span><span style="color: #D4D2C8"> </span><span style="color: #FFD173">:wk</span><span style="color: #D4D2C8"> </span><span style="color: #D5FF80">&quot;journal&quot;</span><span style="color: #D4D2C8">)</span>
<span style="color: #D4D2C8">    </span><span style="color: #D5FF80">&quot;njN&quot;</span><span style="color: #D4D2C8"> </span><span style="color: #DFBFFF">&#39;denote-journal-new-entry</span>
<span style="color: #D4D2C8">    </span><span style="color: #D5FF80">&quot;njc&quot;</span><span style="color: #D4D2C8"> </span><span style="color: #DFBFFF">&#39;denote-journal-link-or-create-entry</span>
<span style="color: #D4D2C8">    </span><span style="color: #D5FF80">&quot;njn&quot;</span><span style="color: #D4D2C8"> </span><span style="color: #DFBFFF">&#39;denote-journal-new-or-existing-entry</span><span style="color: #D4D2C8">))</span>

<span style="color: #7E8AA1">;; provides consult sources:</span>
<span style="color: #7E8AA1">;; - &quot;SPC D&quot; for denote buffers</span>
<span style="color: #7E8AA1">;; - &quot;SPC S&quot; for denote subdirectories</span>
<span style="color: #D4D2C8">(leaf consult-denote</span>
<span style="color: #D4D2C8">  </span><span style="color: #FFD173">:after</span><span style="color: #D4D2C8"> consult-notes</span>
<span style="color: #D4D2C8">  </span><span style="color: #FFD173">:config</span>
<span style="color: #D4D2C8">  (consult-denote-mode </span><span style="color: #DFBFFF">1</span><span style="color: #D4D2C8">))</span>
<span style="color: #7E8AA1">;; TODO: write my own consult function for &quot;SPC S&quot;.</span>


<span style="color: #7E8AA1">;; Docs: https://github.com/mclear-tools/consult-notes</span>
<span style="color: #D4D2C8">(leaf consult-notes</span>
<span style="color: #D4D2C8">  </span><span style="color: #FFD173">:commands</span><span style="color: #D4D2C8"> consult-notes consult-notes-search-in-all-notes</span>
<span style="color: #D4D2C8">  </span><span style="color: #FFD173">:after</span><span style="color: #D4D2C8"> org</span>
<span style="color: #D4D2C8">  </span><span style="color: #FFD173">:bind</span><span style="color: #D4D2C8"> (</span><span style="color: #D5FF80">&quot;M-s n&quot;</span><span style="color: #D4D2C8"> </span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8"> consult-notes)</span>
<span style="color: #D4D2C8">  </span><span style="color: #FFD173">:init</span>
<span style="color: #D4D2C8">  (leader-bind</span>
<span style="color: #D4D2C8">    </span><span style="color: #D5FF80">&quot;nf&quot;</span><span style="color: #D4D2C8"> </span><span style="color: #DFBFFF">&#39;consult-notes</span>
<span style="color: #D4D2C8">    </span><span style="color: #D5FF80">&quot;ng&quot;</span><span style="color: #D4D2C8"> </span><span style="color: #DFBFFF">&#39;consult-notes-search-in-all-notes</span><span style="color: #D4D2C8">)</span>
<span style="color: #D4D2C8">  </span><span style="color: #FFD173">:config</span>
<span style="color: #D4D2C8">  </span><span style="color: #7E8AA1">;; denote keywords &quot;_&quot; fix</span>
<span style="color: #D4D2C8">  (</span><span style="color: #FFAD66">progn</span>
<span style="color: #D4D2C8">    (</span><span style="color: #FFAD66">setq</span><span style="color: #D4D2C8"> consult-notes-denote-display-keywords-indicator </span><span style="color: #D5FF80">&quot;_&quot;</span><span style="color: #D4D2C8">)</span>
<span style="color: #D4D2C8">    (</span><span style="color: #FFD173">defun</span><span style="color: #D4D2C8"> consult-notes-denote--display-keywords (keywords)</span>
<span style="color: #D4D2C8">      (</span><span style="color: #FFD173">format</span><span style="color: #D4D2C8"> </span><span style="color: #D5FF80">&quot;%18s&quot;</span><span style="color: #D4D2C8"> (</span><span style="color: #FFAD66">if</span><span style="color: #D4D2C8"> keywords</span>
<span style="color: #D4D2C8">                         (</span><span style="color: #FFD173">concat</span>
<span style="color: #D4D2C8">                          consult-notes-denote-display-keywords-indicator</span>
<span style="color: #D4D2C8">                          (</span><span style="color: #FFD173">mapconcat</span><span style="color: #D4D2C8"> </span><span style="color: #DFBFFF">&#39;identity</span><span style="color: #D4D2C8"> keywords </span><span style="color: #D5FF80">&quot;_&quot;</span><span style="color: #D4D2C8">))</span>
<span style="color: #D4D2C8">                       </span><span style="color: #D5FF80">&quot;&quot;</span><span style="color: #D4D2C8">))))</span>
<span style="color: #D4D2C8">  </span><span style="color: #7E8AA1">;; custom printing format</span>
<span style="color: #D4D2C8">  (</span><span style="color: #FFAD66">progn</span>
<span style="color: #D4D2C8">    (</span><span style="color: #FFD173">defun</span><span style="color: #D4D2C8"> +consult-notes--file-dir-annotate (name dir cand)</span>
<span style="color: #D4D2C8">      </span><span style="color: #D5FF80">&quot;Annotate file CAND with its directory DIR, size, and modification time.&quot;</span>
<span style="color: #D4D2C8">      (</span><span style="color: #FFAD66">let*</span><span style="color: #D4D2C8"> ((file  (</span><span style="color: #FFD173">concat</span><span style="color: #D4D2C8"> (</span><span style="color: #FFD173">file-name-as-directory</span><span style="color: #D4D2C8"> dir) cand))</span>
<span style="color: #D4D2C8">             (dirs  (abbreviate-file-name dir))</span>
<span style="color: #D4D2C8">             (attrs (</span><span style="color: #FFD173">file-attributes</span><span style="color: #D4D2C8"> file))</span>
<span style="color: #D4D2C8">             (fsize (file-size-human-readable (file-attribute-size attrs)))</span>
<span style="color: #D4D2C8">             (ftime (consult-notes--time (file-attribute-modification-time attrs))))</span>
<span style="color: #D4D2C8">        (</span><span style="color: #FFD173">message</span><span style="color: #D4D2C8"> </span><span style="color: #D5FF80">&quot;DEBUGGGGG: %s %s %s&quot;</span><span style="color: #D4D2C8"> file name dirs)</span>
<span style="color: #D4D2C8">        (</span><span style="color: #FFD173">put-text-property</span><span style="color: #D4D2C8"> </span><span style="color: #DFBFFF">0</span><span style="color: #D4D2C8"> (</span><span style="color: #FFD173">length</span><span style="color: #D4D2C8"> name)  </span><span style="color: #DFBFFF">&#39;face</span><span style="color: #D4D2C8"> </span><span style="color: #DFBFFF">&#39;consult-notes-name</span><span style="color: #D4D2C8"> name)</span>
<span style="color: #D4D2C8">        (</span><span style="color: #FFD173">put-text-property</span><span style="color: #D4D2C8"> </span><span style="color: #DFBFFF">0</span><span style="color: #D4D2C8"> (</span><span style="color: #FFD173">length</span><span style="color: #D4D2C8"> dirs)  </span><span style="color: #DFBFFF">&#39;face</span><span style="color: #D4D2C8"> </span><span style="color: #DFBFFF">&#39;consult-notes-name</span><span style="color: #D4D2C8"> dirs)</span>
<span style="color: #D4D2C8">        (</span><span style="color: #FFD173">put-text-property</span><span style="color: #D4D2C8"> </span><span style="color: #DFBFFF">0</span><span style="color: #D4D2C8"> (</span><span style="color: #FFD173">length</span><span style="color: #D4D2C8"> fsize) </span><span style="color: #DFBFFF">&#39;face</span><span style="color: #D4D2C8"> </span><span style="color: #DFBFFF">&#39;consult-notes-size</span><span style="color: #D4D2C8"> fsize)</span>
<span style="color: #D4D2C8">        (</span><span style="color: #FFD173">put-text-property</span><span style="color: #D4D2C8"> </span><span style="color: #DFBFFF">0</span><span style="color: #D4D2C8"> (</span><span style="color: #FFD173">length</span><span style="color: #D4D2C8"> ftime) </span><span style="color: #DFBFFF">&#39;face</span><span style="color: #D4D2C8"> </span><span style="color: #DFBFFF">&#39;consult-notes-time</span><span style="color: #D4D2C8"> ftime)</span>
<span style="color: #D4D2C8">        (</span><span style="color: #FFD173">format</span><span style="color: #D4D2C8"> </span><span style="color: #D5FF80">&quot;%7s %8s  %12s  %8s&quot;</span><span style="color: #D4D2C8"> name fsize ftime dirs)))</span>
<span style="color: #D4D2C8">    (</span><span style="color: #FFAD66">setq</span><span style="color: #D4D2C8"> consult-notes-file-dir-annotate-function </span><span style="color: #FFD173">#&#39;</span><span style="color: #D4D2C8">+consult-notes--file-dir-annotate))</span>
<span style="color: #D4D2C8">  </span><span style="color: #7E8AA1">;; enable for denote after load denote</span>
<span style="color: #D4D2C8">  (</span><span style="color: #FFD173">with-eval-after-load</span><span style="color: #D4D2C8"> </span><span style="color: #DFBFFF">&#39;denote</span>
<span style="color: #D4D2C8">    (consult-notes-denote-mode </span><span style="color: #DFBFFF">1</span><span style="color: #D4D2C8">)))</span>

<span style="color: #7E8AA1">;; docs: https://lucidmanager.org/productivity/denote-explore/</span>
<span style="color: #D4D2C8">(leaf denote-explore</span>
<span style="color: #D4D2C8">  </span><span style="color: #FFD173">:after</span><span style="color: #D4D2C8"> denote</span>
<span style="color: #D4D2C8">  </span><span style="color: #FFD173">:init</span>
<span style="color: #D4D2C8">  (leader-bind</span>
<span style="color: #D4D2C8">    </span><span style="color: #D5FF80">&quot;ne&quot;</span><span style="color: #D4D2C8"> </span><span style="color: #FFAD66">&#39;</span><span style="color: #D4D2C8">(</span><span style="color: #FFD173">:ignore</span><span style="color: #D4D2C8"> </span><span style="color: #FFD173">t</span><span style="color: #D4D2C8"> </span><span style="color: #FFD173">:wk</span><span style="color: #D4D2C8"> </span><span style="color: #D5FF80">&quot;explore&quot;</span><span style="color: #D4D2C8">)</span>

<span style="color: #D4D2C8">    </span><span style="color: #7E8AA1">;; random walks</span>
<span style="color: #D4D2C8">    </span><span style="color: #D5FF80">&quot;new&quot;</span><span style="color: #D4D2C8"> </span><span style="color: #FFAD66">&#39;</span><span style="color: #D4D2C8">(</span><span style="color: #FFD173">:ignore</span><span style="color: #D4D2C8"> </span><span style="color: #FFD173">t</span><span style="color: #D4D2C8"> </span><span style="color: #FFD173">:wk</span><span style="color: #D4D2C8"> </span><span style="color: #D5FF80">&quot;random walks&quot;</span><span style="color: #D4D2C8">)</span>
<span style="color: #D4D2C8">    </span><span style="color: #D5FF80">&quot;newl&quot;</span><span style="color: #D4D2C8"> </span><span style="color: #FFAD66">&#39;</span><span style="color: #D4D2C8">(denote-explore-random-link </span><span style="color: #FFD173">:wk</span><span style="color: #D4D2C8"> </span><span style="color: #D5FF80">&quot;random link&quot;</span><span style="color: #D4D2C8">)</span>
<span style="color: #D4D2C8">    </span><span style="color: #D5FF80">&quot;newr&quot;</span><span style="color: #D4D2C8"> </span><span style="color: #FFAD66">&#39;</span><span style="color: #D4D2C8">(denote-explore-random-regex </span><span style="color: #FFD173">:wk</span><span style="color: #D4D2C8"> </span><span style="color: #D5FF80">&quot;random regex&quot;</span><span style="color: #D4D2C8">)</span>
<span style="color: #D4D2C8">    </span><span style="color: #D5FF80">&quot;newk&quot;</span><span style="color: #D4D2C8"> </span><span style="color: #FFAD66">&#39;</span><span style="color: #D4D2C8">(denote-explore-random-keyword </span><span style="color: #FFD173">:wk</span><span style="color: #D4D2C8"> </span><span style="color: #D5FF80">&quot;random keyword&quot;</span><span style="color: #D4D2C8">)</span>

<span style="color: #D4D2C8">    </span><span style="color: #7E8AA1">;; janitor</span>
<span style="color: #D4D2C8">    </span><span style="color: #D5FF80">&quot;nej&quot;</span><span style="color: #D4D2C8"> </span><span style="color: #FFAD66">&#39;</span><span style="color: #D4D2C8">(</span><span style="color: #FFD173">:ignore</span><span style="color: #D4D2C8"> </span><span style="color: #FFD173">t</span><span style="color: #D4D2C8"> </span><span style="color: #FFD173">:wk</span><span style="color: #D4D2C8"> </span><span style="color: #D5FF80">&quot;janitor&quot;</span><span style="color: #D4D2C8">)</span>
<span style="color: #D4D2C8">    </span><span style="color: #D5FF80">&quot;nejj&quot;</span><span style="color: #D4D2C8"> </span><span style="color: #FFAD66">&#39;</span><span style="color: #D4D2C8">(denote-explore-sync-metadata </span><span style="color: #FFD173">:wk</span><span style="color: #D4D2C8"> </span><span style="color: #D5FF80">&quot;sync filenames from metadata&quot;</span><span style="color: #D4D2C8">)</span>
<span style="color: #D4D2C8">    </span><span style="color: #D5FF80">&quot;nejm&quot;</span><span style="color: #D4D2C8"> </span><span style="color: #FFAD66">&#39;</span><span style="color: #D4D2C8">(denote-explore-sync-metadata </span><span style="color: #FFD173">:wk</span><span style="color: #D4D2C8"> </span><span style="color: #D5FF80">&quot;sync filenames from metadata&quot;</span><span style="color: #D4D2C8">)</span>
<span style="color: #D4D2C8">    </span><span style="color: #D5FF80">&quot;nejs&quot;</span><span style="color: #D4D2C8"> </span><span style="color: #FFAD66">&#39;</span><span style="color: #D4D2C8">(denote-explore-sort-keywords </span><span style="color: #FFD173">:wk</span><span style="color: #D4D2C8"> </span><span style="color: #D5FF80">&quot;sort order of all keywords&quot;</span><span style="color: #D4D2C8">)</span>
<span style="color: #D4D2C8">    </span><span style="color: #D5FF80">&quot;nejr&quot;</span><span style="color: #D4D2C8"> </span><span style="color: #FFAD66">&#39;</span><span style="color: #D4D2C8">(denote-explore-rename-keyword </span><span style="color: #FFD173">:wk</span><span style="color: #D4D2C8"> </span><span style="color: #D5FF80">&quot;rename keyword&quot;</span><span style="color: #D4D2C8">)</span>
<span style="color: #D4D2C8">    </span><span style="color: #D5FF80">&quot;nej0&quot;</span><span style="color: #D4D2C8"> </span><span style="color: #FFAD66">&#39;</span><span style="color: #D4D2C8">(denote-explore-zero-keywords </span><span style="color: #FFD173">:wk</span><span style="color: #D4D2C8"> </span><span style="color: #D5FF80">&quot;0 keywords&quot;</span><span style="color: #D4D2C8">)</span>
<span style="color: #D4D2C8">    </span><span style="color: #D5FF80">&quot;nej1&quot;</span><span style="color: #D4D2C8"> </span><span style="color: #FFAD66">&#39;</span><span style="color: #D4D2C8">(denote-explore-single-keywords </span><span style="color: #FFD173">:wk</span><span style="color: #D4D2C8"> </span><span style="color: #D5FF80">&quot;1 keywords&quot;</span><span style="color: #D4D2C8">)</span>

<span style="color: #D4D2C8">    </span><span style="color: #7E8AA1">;; visualize</span>
<span style="color: #D4D2C8">    </span><span style="color: #D5FF80">&quot;nen&quot;</span><span style="color: #D4D2C8"> </span><span style="color: #FFAD66">&#39;</span><span style="color: #D4D2C8">(</span><span style="color: #FFD173">:ignore</span><span style="color: #D4D2C8"> </span><span style="color: #FFD173">t</span><span style="color: #D4D2C8"> </span><span style="color: #FFD173">:wk</span><span style="color: #D4D2C8"> </span><span style="color: #D5FF80">&quot;network&quot;</span><span style="color: #D4D2C8">)</span>
<span style="color: #D4D2C8">    </span><span style="color: #D5FF80">&quot;nenn&quot;</span><span style="color: #D4D2C8"> </span><span style="color: #FFAD66">&#39;</span><span style="color: #D4D2C8">(denote-explore-network </span><span style="color: #FFD173">:wk</span><span style="color: #D4D2C8"> </span><span style="color: #D5FF80">&quot;network&quot;</span><span style="color: #D4D2C8">)</span>
<span style="color: #D4D2C8">    </span><span style="color: #D5FF80">&quot;nenr&quot;</span><span style="color: #D4D2C8"> </span><span style="color: #FFAD66">&#39;</span><span style="color: #D4D2C8">(denote-explore-network-regenerate </span><span style="color: #FFD173">:wk</span><span style="color: #D4D2C8"> </span><span style="color: #D5FF80">&quot;network regenerate&quot;</span><span style="color: #D4D2C8">)</span>
<span style="color: #D4D2C8">    </span><span style="color: #D5FF80">&quot;nend&quot;</span><span style="color: #D4D2C8"> </span><span style="color: #FFAD66">&#39;</span><span style="color: #D4D2C8">(denote-explore-degree-barchart </span><span style="color: #FFD173">:wk</span><span style="color: #D4D2C8"> </span><span style="color: #D5FF80">&quot;degree barchart&quot;</span><span style="color: #D4D2C8">)</span>

<span style="color: #D4D2C8">    </span><span style="color: #7E8AA1">;; stats</span>
<span style="color: #D4D2C8">    </span><span style="color: #D5FF80">&quot;nes&quot;</span><span style="color: #D4D2C8"> </span><span style="color: #FFAD66">&#39;</span><span style="color: #D4D2C8">(</span><span style="color: #FFD173">:ignore</span><span style="color: #D4D2C8"> </span><span style="color: #FFD173">t</span><span style="color: #D4D2C8"> </span><span style="color: #FFD173">:wk</span><span style="color: #D4D2C8"> </span><span style="color: #D5FF80">&quot;stats&quot;</span><span style="color: #D4D2C8">)</span>
<span style="color: #D4D2C8">    </span><span style="color: #D5FF80">&quot;nesk&quot;</span><span style="color: #D4D2C8"> </span><span style="color: #FFAD66">&#39;</span><span style="color: #D4D2C8">(denote-explore-barchart-keywords </span><span style="color: #FFD173">:wk</span><span style="color: #D4D2C8"> </span><span style="color: #D5FF80">&quot;barchart keywords&quot;</span><span style="color: #D4D2C8">)</span>
<span style="color: #D4D2C8">    </span><span style="color: #D5FF80">&quot;nese&quot;</span><span style="color: #D4D2C8"> </span><span style="color: #FFAD66">&#39;</span><span style="color: #D4D2C8">(denote-explore-barchart-filetypes </span><span style="color: #FFD173">:wk</span><span style="color: #D4D2C8"> </span><span style="color: #D5FF80">&quot;barchart filetypes&quot;</span><span style="color: #D4D2C8">))</span>

<span style="color: #D4D2C8">  </span><span style="color: #7E8AA1">;; :config</span>
<span style="color: #D4D2C8">  </span><span style="color: #7E8AA1">;; (setq denote-explore-network-format )</span>
<span style="color: #D4D2C8">  </span><span style="color: #7E8AA1">;; TODO: make denote-explore-network / browse-url-browser-function</span>

<span style="color: #D4D2C8">  )</span>

<span style="color: #7E8AA1">;; denote-menu</span>
<span style="color: #D4D2C8">(leaf denote-menu</span>
<span style="color: #D4D2C8">  </span><span style="color: #FFD173">:after</span><span style="color: #D4D2C8"> denote</span>
<span style="color: #D4D2C8">  </span><span style="color: #FFD173">:init</span>
<span style="color: #D4D2C8">  (leader-bind</span>
<span style="color: #D4D2C8">    </span><span style="color: #D5FF80">&quot;nm&quot;</span><span style="color: #D4D2C8"> </span><span style="color: #DFBFFF">&#39;list-denotes</span><span style="color: #D4D2C8">)</span>
<span style="color: #D4D2C8">  </span><span style="color: #FFD173">:bind</span><span style="color: #D4D2C8"> (denote-menu-mode-map</span>
<span style="color: #D4D2C8">         (</span><span style="color: #D5FF80">&quot;c&quot;</span><span style="color: #D4D2C8"> </span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8"> denote-menu-clear-filters)</span>
<span style="color: #D4D2C8">         (</span><span style="color: #D5FF80">&quot;r&quot;</span><span style="color: #D4D2C8"> </span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8"> denote-menu-filter)</span>
<span style="color: #D4D2C8">         (</span><span style="color: #D5FF80">&quot;k&quot;</span><span style="color: #D4D2C8"> </span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8"> denote-menu-filter-by-keyword)</span>
<span style="color: #D4D2C8">         (</span><span style="color: #D5FF80">&quot;o&quot;</span><span style="color: #D4D2C8"> </span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8"> denote-menu-filter-out-keyword)</span>
<span style="color: #D4D2C8">         (</span><span style="color: #D5FF80">&quot;/ r&quot;</span><span style="color: #D4D2C8"> </span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8"> denote-menu-filter)</span>
<span style="color: #D4D2C8">         (</span><span style="color: #D5FF80">&quot;/ k&quot;</span><span style="color: #D4D2C8"> </span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8"> denote-menu-filter-by-keyword)</span>
<span style="color: #D4D2C8">         (</span><span style="color: #D5FF80">&quot;/ o&quot;</span><span style="color: #D4D2C8"> </span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8"> denote-menu-filter-out-keyword)</span>
<span style="color: #D4D2C8">         (</span><span style="color: #D5FF80">&quot;e&quot;</span><span style="color: #D4D2C8"> </span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8"> denote-menu-export-to-dired))</span>
<span style="color: #D4D2C8">  </span><span style="color: #FFD173">:config</span>
<span style="color: #D4D2C8">  (</span><span style="color: #FFAD66">setq</span><span style="color: #D4D2C8"> denote-menu-title-column-width </span><span style="color: #DFBFFF">50</span><span style="color: #D4D2C8">))</span>

<span style="color: #7E8AA1">;;; set common keys</span>
<span style="color: #7E8AA1">;; (leader-bind</span>
<span style="color: #7E8AA1">;;   &quot;nN&quot; &#39;(:ignore t :wk &quot;Favorites&quot;)</span>
<span style="color: #7E8AA1">;;   &quot;nNn&quot; &#39;denote</span>
<span style="color: #7E8AA1">;;   &quot;&quot;)</span>

<span style="color: #D4D2C8">(</span><span style="color: #FFD173">provide</span><span style="color: #D4D2C8"> </span><span style="color: #DFBFFF">&#39;+to-sort</span><span style="color: #D4D2C8">)</span>
</code></pre></div>
<hr />
<p><em>Last updated: August 16, 2025</em></p>
</section>

<section id="mkdocs-terminal-after-content">
    
</section>

            </main>
        </div>
        <hr><footer>
    <div class="terminal-mkdocs-footer-grid">
        <div id="terminal-mkdocs-footer-copyright-info">
             Site built with <a href="http://www.mkdocs.org">MkDocs</a> and <a href="https://github.com/ntno/mkdocs-terminal">Terminal for MkDocs</a>.
        </div>
    </div>
</footer>
    </div>

    
    <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="alertdialog" aria-modal="true" aria-labelledby="searchModalLabel">
    <div class="modal-dialog modal-lg" role="search">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="searchModalLabel">Search</h5>
                <button type="button" class="close btn btn-default btn-ghost" data-dismiss="modal"><span aria-hidden="true">x</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
                <p id="searchInputLabel">Type to start searching</p>
                <form>
                    <div class="form-group">
                        <input type="search" class="form-control" aria-labelledby="searchInputLabel" placeholder="" id="mkdocs-search-query" title="Please enter search terms here">
                    </div>
                </form>
                <div id="mkdocs-search-results" data-no-results-text="No document matches found"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>
    
    
</body>

</html>