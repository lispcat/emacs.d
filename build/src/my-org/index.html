<!DOCTYPE html>
<html lang="en">
<head>
    
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <meta name="generator" content="mkdocs-1.6.1, mkdocs-terminal-4.7.4">
     
     
    <link rel="icon" type="image/png" sizes="192x192" href="../../../img/android-chrome-192x192.png" />
<link rel="icon" type="image/png" sizes="512x512" href="../../../img/android-chrome-512x512.png" />
<link rel="apple-touch-icon" sizes="180x180" href="../../../img/apple-touch-icon.png" />
<link rel="shortcut icon" type="image/png" sizes="48x48" href="../../../img/favicon.ico" />
<link rel="icon" type="image/png" sizes="16x16" href="../../../img/favicon-16x16.png" />
<link rel="icon" type="image/png" sizes="32x32" href="../../../img/favicon-32x32.png" />


    
 
<title>My org - emacs.d</title>


<link href="../../../css/fontawesome/css/fontawesome.min.css" rel="stylesheet">
<link href="../../../css/fontawesome/css/solid.min.css" rel="stylesheet">
<link href="../../../css/normalize.css" rel="stylesheet">
<link href="../../../css/terminal.css" rel="stylesheet">
<link href="../../../css/theme.css" rel="stylesheet">
<link href="../../../css/theme.tile_grid.css" rel="stylesheet">
<link href="../../../css/theme.footer.css" rel="stylesheet">
<!-- gruvbox_dark color palette -->
<link href="../../../css/palettes/gruvbox_dark.css" rel="stylesheet">

<!-- page layout -->
<style>
/* initially set page layout to a one column grid */
.terminal-mkdocs-main-grid {
    display: grid;
    grid-column-gap: 1.4em;
    grid-template-columns: auto;
    grid-template-rows: auto;
}

/*  
*   when side navigation is not hidden, use a two column grid.  
*   if the screen is too narrow, fall back to the initial one column grid layout.
*   in this case the main content will be placed under the navigation panel. 
*/
@media only screen and (min-width: 70em) {
    .terminal-mkdocs-main-grid {
        grid-template-columns: 3fr 9fr;
        <!-- grid-template-columns: 4fr 9fr; -->
    }
}</style>



     
    
    

    
    <!-- search css support -->
<link href="../../../css/search/bootstrap-modal.css" rel="stylesheet">
<!-- search scripts -->
<script>
    var base_url = "../../..",
    shortcuts = "{}";
</script>
<script src="../../../js/jquery/jquery-1.10.1.min.js" defer></script>
<script src="../../../js/bootstrap/bootstrap.min.js" defer></script>
<script src="../../../js/mkdocs/base.js" defer></script>
    
    
    
    
    <script src="../../../search/main.js"></script>
    

    
</head>

<body class="terminal"><div class="container">
    <div class="terminal-nav">
        <header class="terminal-logo">
            <div id="mkdocs-terminal-site-name" class="logo terminal-prompt"><a href="/" class="no-style">emacs.d</a></div>
        </header>
        
        <nav class="terminal-menu">
            
            <ul vocab="https://schema.org/" typeof="BreadcrumbList">
                
                
                <li property="itemListElement" typeof="ListItem">
                    <a href="../../.." class="menu-item " property="item" typeof="WebPage">
                        <span property="name">Home</span>
                    </a>
                    <meta property="position" content="0">
                </li>
                
                
                <li property="itemListElement" typeof="ListItem">
                    <a href="../../../about/" class="menu-item " property="item" typeof="WebPage">
                        <span property="name">About</span>
                    </a>
                    <meta property="position" content="1">
                </li>
                
                
                
                
                
                    
                    


<li property="itemListElement" typeof="ListItem">
    <a href="#" class="menu-item" data-toggle="modal" data-target="#mkdocs_search_modal" property="item" typeof="SearchAction">
        <i aria-hidden="true" class="fa fa-search"></i> <span property="name">Search</span>
    </a>
    <meta property="position" content="2">
</li>
                    
            </ul>
            
        </nav>
    </div>
</div>
        
    <div class="container">
        <div class="terminal-mkdocs-main-grid"><aside id="terminal-mkdocs-side-panel"><nav>
  
    <ul class="terminal-mkdocs-side-nav-items">
        
          



<li class="terminal-mkdocs-side-nav-li">
    
    
    
        
        
            <a class="

    terminal-mkdocs-side-nav-item" href="../../..">Home</a>
        
    
    
    
  </li>
        
          



<li class="terminal-mkdocs-side-nav-li">
    
    
    
        
        
            <a class="

    terminal-mkdocs-side-nav-item" href="../../../about/">About</a>
        
    
    
    
  </li>
        
          



<li class="terminal-mkdocs-side-nav-li">
    
    
        
        

        
            
    
        
        <span class="
        
    

    terminal-mkdocs-side-nav-item--active terminal-mkdocs-side-nav-section-no-index">Src</span>
    
    
        
      
        
            <ul class="terminal-mkdocs-side-nav-li-ul">
        
            
            

            <li class="terminal-mkdocs-side-nav-li-ul-li">
                
                    
    
        
        
            <a class="

    terminal-mkdocs-side-nav-item" href="../../early-init/">early-init</a>
        
    
    
                

                
                
            </li>
        
            
            

            <li class="terminal-mkdocs-side-nav-li-ul-li">
                
                    
    
        
        
            <a class="

    terminal-mkdocs-side-nav-item" href="../../init/">init</a>
        
    
    
                

                
                
            </li>
        
            
            

            <li class="terminal-mkdocs-side-nav-li-ul-li">
                
                    
    
        
        
            <a class="

    terminal-mkdocs-side-nav-item" href="../my-base/">My base</a>
        
    
    
                

                
                
            </li>
        
            
            

            <li class="terminal-mkdocs-side-nav-li-ul-li">
                
                    
    
        
        
            <a class="

    terminal-mkdocs-side-nav-item" href="../my-completion/">My completion</a>
        
    
    
                

                
                
            </li>
        
            
            

            <li class="terminal-mkdocs-side-nav-li-ul-li">
                
                    
    
        
        
            <a class="

    terminal-mkdocs-side-nav-item" href="../my-documentation/">My documentation</a>
        
    
    
                

                
                
            </li>
        
            
            

            <li class="terminal-mkdocs-side-nav-li-ul-li">
                
                    
    
        
        
            <a class="

    terminal-mkdocs-side-nav-item" href="../my-ide/">My ide</a>
        
    
    
                

                
                
            </li>
        
            
            

            <li class="terminal-mkdocs-side-nav-li-ul-li">
                
                    
    
        
        
            <a class="

    terminal-mkdocs-side-nav-item" href="../my-kbd/">My kbd</a>
        
    
    
                

                
                
            </li>
        
            
            

            <li class="terminal-mkdocs-side-nav-li-ul-li">
                
                    
    
        
        
            <a class="

    terminal-mkdocs-side-nav-item" href="../my-latex/">My latex</a>
        
    
    
                

                
                
            </li>
        
            
            

            <li class="terminal-mkdocs-side-nav-li-ul-li">
                
                    
    
        
        
            <a class="

    terminal-mkdocs-side-nav-item" href="../my-misc/">My misc</a>
        
    
    
                

                
                
            </li>
        
            
            

            <li class="terminal-mkdocs-side-nav-li-ul-li">
                
                    
    
        
        <span class="

    terminal-mkdocs-side-nav-item--active">My org</span>
    
    
                

                
                
            </li>
        
            
            

            <li class="terminal-mkdocs-side-nav-li-ul-li">
                
                    
    
        
        
            <a class="

    terminal-mkdocs-side-nav-item" href="../my-programs/">My programs</a>
        
    
    
                

                
                
            </li>
        
            
            

            <li class="terminal-mkdocs-side-nav-li-ul-li">
                
                    
    
        
        
            <a class="

    terminal-mkdocs-side-nav-item" href="../my-to-sort/">My to sort</a>
        
    
    
                

                
                
            </li>
        
            
            

            <li class="terminal-mkdocs-side-nav-li-ul-li">
                
                    
    
        
        
            <a class="

    terminal-mkdocs-side-nav-item" href="../my-ui/">My ui</a>
        
    
    
                

                
                
            </li>
        
            
            

            <li class="terminal-mkdocs-side-nav-li-ul-li">
                
                    
    
        
        
            <a class="

    terminal-mkdocs-side-nav-item" href="../my-workspaces/">My workspaces</a>
        
    
    
                

                
                
            </li>
        
    </ul>
        
    
  </li>
        
          



<li class="terminal-mkdocs-side-nav-li">
    
    
    
        
        
            
            
            <span class="

    terminal-mkdocs-side-nav-item">Misc</span>
        
    
    
    
  </li>
        
    </ul>
  
</nav><hr>
<nav>
    <ul>
        <li><a href="#code">Code</a></li>
        
    </ul>
</nav>
</aside>
            <main id="terminal-mkdocs-main-content">
    
    
    
    
    

<section id="mkdocs-terminal-content">
    <h3 id="code">Code</h3>
<div class="highlight" style="background: #1d2331"><pre style="line-height: 125%;"><span></span><code><span style="color: #D4D2C8">  </span><span style="color: #FFD173">:setq</span>
<span style="color: #D4D2C8">  (org-directory </span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8"> </span><span style="color: #D5FF80">&quot;~/Notes/org&quot;</span><span style="color: #D4D2C8">)</span>
<span style="color: #D4D2C8">  (org-tags-column </span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8"> </span><span style="color: #DFBFFF">-55</span><span style="color: #D4D2C8">)          </span><span style="color: #7E8AA1">; column where tags are indented to</span>
<span style="color: #D4D2C8">  </span><span style="color: #7E8AA1">;; (org-startup-folded . &#39;showall)  ; default folding mode</span>
<span style="color: #D4D2C8">  (org-startup-folded </span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8"> </span><span style="color: #DFBFFF">&#39;nofold</span><span style="color: #D4D2C8">)  </span><span style="color: #7E8AA1">; default folding mode</span>
<span style="color: #D4D2C8">  (org-startup-indented </span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8"> </span><span style="color: #FFD173">t</span><span style="color: #D4D2C8">)       </span><span style="color: #7E8AA1">; indent headings and its body</span>
<span style="color: #D4D2C8">  (org-special-ctrl-a/e </span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8"> </span><span style="color: #FFD173">t</span><span style="color: #D4D2C8">)</span>
<span style="color: #D4D2C8">  (org-src-window-setup </span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8"> </span><span style="color: #DFBFFF">&#39;current-window</span><span style="color: #D4D2C8">) </span><span style="color: #7E8AA1">; edit code blocks in the same window</span>
<span style="color: #D4D2C8">  (org-return-follows-link </span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8"> </span><span style="color: #FFD173">t</span><span style="color: #D4D2C8">)            </span><span style="color: #7E8AA1">; RET can open links</span>
<span style="color: #D4D2C8">  (org-hide-emphasis-markers </span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8"> </span><span style="color: #FFD173">t</span><span style="color: #D4D2C8">) </span><span style="color: #7E8AA1">; hide formatting chars (* / ~ = etc)</span>
<span style="color: #D4D2C8">  (org-src-preserve-indentation </span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8"> </span><span style="color: #FFD173">t</span><span style="color: #D4D2C8">) </span><span style="color: #7E8AA1">; remove annoying leading whitespace in code blocks</span>
<span style="color: #D4D2C8">  (org-fontify-whole-heading-line </span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8"> </span><span style="color: #FFD173">t</span><span style="color: #D4D2C8">)</span>
<span style="color: #D4D2C8">  </span><span style="color: #7E8AA1">;; (org-ellipsis . &quot; ›&quot;)</span>
<span style="color: #D4D2C8">  (org-ellipsis </span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8"> </span><span style="color: #D5FF80">&quot; ‣&quot;</span><span style="color: #D4D2C8">)</span>
<span style="color: #D4D2C8">  </span><span style="color: #7E8AA1">;; (org-ellipsis . &quot; …&quot;)</span>
<span style="color: #D4D2C8">  </span><span style="color: #7E8AA1">;; (org-ellipsis . &quot; ⤵&quot;)</span>
<span style="color: #D4D2C8">  </span><span style="color: #7E8AA1">;; (org-ellipsis . &quot; ▾&quot;)</span>

<span style="color: #D4D2C8">  </span><span style="color: #FFD173">:init</span>
<span style="color: #D4D2C8">  (general-my-map</span>
<span style="color: #D4D2C8">    </span><span style="color: #D5FF80">&quot;o&quot;</span><span style="color: #D4D2C8"> </span><span style="color: #FFAD66">&#39;</span><span style="color: #D4D2C8">(</span><span style="color: #FFD173">:ignore</span><span style="color: #D4D2C8"> </span><span style="color: #FFD173">t</span><span style="color: #D4D2C8"> </span><span style="color: #FFD173">:which-key</span><span style="color: #D4D2C8"> </span><span style="color: #D5FF80">&quot;org&quot;</span><span style="color: #D4D2C8">))</span>

<span style="color: #D4D2C8">  </span><span style="color: #7E8AA1">;; :hook (org-mode-hook . indent-tabs-mode)</span>

<span style="color: #D4D2C8">  </span><span style="color: #FFD173">:config</span>
<span style="color: #D4D2C8">  (</span><span style="color: #FFD173">defun</span><span style="color: #D4D2C8"> my/org-insert-subheading-respect-content ()</span>
<span style="color: #D4D2C8">    </span><span style="color: #D5FF80">&quot;Insert new subheading after the current heading&#39;s body.</span>
<span style="color: #D5FF80">If in a list, inserts a new sublist after the current list.&quot;</span>
<span style="color: #D4D2C8">    (</span><span style="color: #FFAD66">interactive</span><span style="color: #D4D2C8">)</span>
<span style="color: #D4D2C8">    (org-meta-return)</span>
<span style="color: #D4D2C8">    (org-metaright))</span>

<span style="color: #D4D2C8">  </span><span style="color: #FFD173">:bind</span>
<span style="color: #D4D2C8">  (org-mode-map</span>
<span style="color: #D4D2C8">   (</span><span style="color: #D5FF80">&quot;C-M-&lt;return&gt;&quot;</span>
<span style="color: #D4D2C8">    </span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8"> my/org-insert-subheading-respect-content))</span>

<span style="color: #D4D2C8">  </span><span style="color: #FFD173">:defer-config</span>

<span style="color: #D4D2C8">  </span><span style="color: #7E8AA1">;; set org font sizes</span>
<span style="color: #D4D2C8">  (</span><span style="color: #FFD173">dolist</span>
<span style="color: #D4D2C8">      </span><span style="color: #7E8AA1">;; (pair &#39;((org-document-title :height 1.9 :weight bold)</span>
<span style="color: #D4D2C8">      </span><span style="color: #7E8AA1">;;         (org-level-1 :height 1.7 :weight bold)</span>
<span style="color: #D4D2C8">      </span><span style="color: #7E8AA1">;;         (org-level-2 :height 1.4 :weight bold)</span>
<span style="color: #D4D2C8">      </span><span style="color: #7E8AA1">;;         (org-level-2 :height 1.1)</span>
<span style="color: #D4D2C8">      </span><span style="color: #7E8AA1">;;         (org-level-3 :height 1.1)))</span>
<span style="color: #D4D2C8">      (pair </span><span style="color: #FFAD66">&#39;</span><span style="color: #D4D2C8">((org-document-title </span><span style="color: #FFD173">:height</span><span style="color: #D4D2C8"> </span><span style="color: #DFBFFF">1.9</span><span style="color: #D4D2C8">)))</span>
<span style="color: #D4D2C8">    (</span><span style="color: #FFD173">apply</span><span style="color: #D4D2C8"> </span><span style="color: #FFD173">#&#39;</span><span style="color: #D4D2C8">set-face-attribute (</span><span style="color: #FFD173">car</span><span style="color: #D4D2C8"> pair) </span><span style="color: #FFD173">nil</span><span style="color: #D4D2C8"> (</span><span style="color: #FFD173">cdr</span><span style="color: #D4D2C8"> pair)))</span>

<span style="color: #D4D2C8">  (</span><span style="color: #FFD173">require</span><span style="color: #D4D2C8"> </span><span style="color: #DFBFFF">&#39;org-tempo</span><span style="color: #D4D2C8">)</span>
<span style="color: #D4D2C8">  (add-to-list </span><span style="color: #DFBFFF">&#39;org-structure-template-alist</span><span style="color: #D4D2C8"> </span><span style="color: #FFAD66">&#39;</span><span style="color: #D4D2C8">(</span><span style="color: #D5FF80">&quot;sh&quot;</span><span style="color: #D4D2C8"> </span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8"> </span><span style="color: #D5FF80">&quot;src shell&quot;</span><span style="color: #D4D2C8">))</span>
<span style="color: #D4D2C8">  (add-to-list </span><span style="color: #DFBFFF">&#39;org-structure-template-alist</span><span style="color: #D4D2C8"> </span><span style="color: #FFAD66">&#39;</span><span style="color: #D4D2C8">(</span><span style="color: #D5FF80">&quot;el&quot;</span><span style="color: #D4D2C8"> </span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8"> </span><span style="color: #D5FF80">&quot;src emacs-lisp&quot;</span><span style="color: #D4D2C8">))</span>
<span style="color: #D4D2C8">  (add-to-list </span><span style="color: #DFBFFF">&#39;org-structure-template-alist</span><span style="color: #D4D2C8"> </span><span style="color: #FFAD66">&#39;</span><span style="color: #D4D2C8">(</span><span style="color: #D5FF80">&quot;py&quot;</span><span style="color: #D4D2C8"> </span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8"> </span><span style="color: #D5FF80">&quot;src python&quot;</span><span style="color: #D4D2C8">))</span>
<span style="color: #D4D2C8">  (add-to-list </span><span style="color: #DFBFFF">&#39;org-structure-template-alist</span><span style="color: #D4D2C8"> </span><span style="color: #FFAD66">&#39;</span><span style="color: #D4D2C8">(</span><span style="color: #D5FF80">&quot;gcc&quot;</span><span style="color: #D4D2C8"> </span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8"> </span><span style="color: #D5FF80">&quot;src c&quot;</span><span style="color: #D4D2C8">))</span>
<span style="color: #D4D2C8">  (add-to-list </span><span style="color: #DFBFFF">&#39;org-structure-template-alist</span><span style="color: #D4D2C8"> </span><span style="color: #FFAD66">&#39;</span><span style="color: #D4D2C8">(</span><span style="color: #D5FF80">&quot;scm&quot;</span><span style="color: #D4D2C8"> </span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8"> </span><span style="color: #D5FF80">&quot;src scheme&quot;</span><span style="color: #D4D2C8">))</span>
<span style="color: #D4D2C8">  (add-to-list </span><span style="color: #DFBFFF">&#39;org-structure-template-alist</span><span style="color: #D4D2C8"> </span><span style="color: #FFAD66">&#39;</span><span style="color: #D4D2C8">(</span><span style="color: #D5FF80">&quot;conf&quot;</span><span style="color: #D4D2C8"> </span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8"> </span><span style="color: #D5FF80">&quot;src conf&quot;</span><span style="color: #D4D2C8">))</span>
<span style="color: #D4D2C8">  (add-to-list </span><span style="color: #DFBFFF">&#39;org-structure-template-alist</span><span style="color: #D4D2C8"> </span><span style="color: #FFAD66">&#39;</span><span style="color: #D4D2C8">(</span><span style="color: #D5FF80">&quot;java&quot;</span><span style="color: #D4D2C8"> </span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8"> </span><span style="color: #D5FF80">&quot;src java&quot;</span><span style="color: #D4D2C8">))</span>
<span style="color: #D4D2C8">  (add-to-list </span><span style="color: #DFBFFF">&#39;org-structure-template-alist</span><span style="color: #D4D2C8"> </span><span style="color: #FFAD66">&#39;</span><span style="color: #D4D2C8">(</span><span style="color: #D5FF80">&quot;unix&quot;</span><span style="color: #D4D2C8"> </span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8"> </span><span style="color: #D5FF80">&quot;src conf-unix&quot;</span><span style="color: #D4D2C8">))</span>
<span style="color: #D4D2C8">  (add-to-list </span><span style="color: #DFBFFF">&#39;org-structure-template-alist</span><span style="color: #D4D2C8"> </span><span style="color: #FFAD66">&#39;</span><span style="color: #D4D2C8">(</span><span style="color: #D5FF80">&quot;clang&quot;</span><span style="color: #D4D2C8"> </span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8"> </span><span style="color: #D5FF80">&quot;src c&quot;</span><span style="color: #D4D2C8">))</span>

<span style="color: #D4D2C8">  </span><span style="color: #7E8AA1">;; fix syntax &lt;&gt; matching with paren</span>
<span style="color: #D4D2C8">  (add-hook </span><span style="color: #DFBFFF">&#39;org-mode-hook</span><span style="color: #D4D2C8"> (</span><span style="color: #FFD173">lambda</span><span style="color: #D4D2C8"> ()</span>
<span style="color: #D4D2C8">                             (</span><span style="color: #FFD173">modify-syntax-entry</span><span style="color: #D4D2C8"> </span><span style="color: #D5FF80">?&lt;</span><span style="color: #D4D2C8"> </span><span style="color: #D5FF80">&quot;.&quot;</span><span style="color: #D4D2C8">)</span>
<span style="color: #D4D2C8">                             (</span><span style="color: #FFD173">modify-syntax-entry</span><span style="color: #D4D2C8"> </span><span style="color: #D5FF80">?&gt;</span><span style="color: #D4D2C8"> </span><span style="color: #D5FF80">&quot;.&quot;</span><span style="color: #D4D2C8">)))</span>


<span style="color: #D4D2C8">  </span><span style="color: #7E8AA1">;; keywords override</span>

<span style="color: #D4D2C8">  (</span><span style="color: #FFD173">defun</span><span style="color: #D4D2C8"> my/org-todo-color-override (</span><span style="color: #FFAD66">&amp;rest</span><span style="color: #D4D2C8"> _)</span>
<span style="color: #D4D2C8">    </span><span style="color: #D5FF80">&quot;Set org-todo-keyword-faces only if not already set by the theme.&quot;</span>
<span style="color: #D4D2C8">    (</span><span style="color: #FFAD66">setq</span><span style="color: #D4D2C8"> org-todo-keyword-faces</span>
<span style="color: #D4D2C8">          </span><span style="color: #FFAD66">`</span><span style="color: #D4D2C8">((</span><span style="color: #D5FF80">&quot;NEXT&quot;</span><span style="color: #D4D2C8"> </span><span style="color: #FFD173">:foreground</span><span style="color: #D4D2C8"> </span><span style="color: #FFAD66">,</span><span style="color: #D4D2C8">(</span><span style="color: #FFAD66">or</span><span style="color: #D4D2C8"> (ignore-error</span>
<span style="color: #D4D2C8">                                         (face-attribute </span><span style="color: #DFBFFF">&#39;highlight</span><span style="color: #D4D2C8"> </span><span style="color: #FFD173">:foreground</span><span style="color: #D4D2C8"> </span><span style="color: #FFD173">nil</span><span style="color: #D4D2C8"> </span><span style="color: #DFBFFF">&#39;default</span><span style="color: #D4D2C8">))</span>
<span style="color: #D4D2C8">                                     </span><span style="color: #D5FF80">&quot;yellow&quot;</span><span style="color: #D4D2C8">)))))</span>

<span style="color: #D4D2C8">  </span><span style="color: #7E8AA1">;; Advise the load-theme function to run our color override</span>
<span style="color: #D4D2C8">  (advice-add </span><span style="color: #DFBFFF">&#39;load-theme</span><span style="color: #D4D2C8"> </span><span style="color: #FFD173">:after</span><span style="color: #D4D2C8"> </span><span style="color: #FFD173">#&#39;</span><span style="color: #D4D2C8">my/org-todo-color-override)</span>

<span style="color: #D4D2C8">  </span><span style="color: #7E8AA1">;; Run once immediately to set colors if no theme is loaded</span>
<span style="color: #D4D2C8">  (my/org-todo-color-override)</span>

<span style="color: #D4D2C8">  )</span>

<span style="color: #D4D2C8">(leaf org-download</span>
<span style="color: #D4D2C8">  </span><span style="color: #FFD173">:after</span><span style="color: #D4D2C8"> org</span>
<span style="color: #D4D2C8">  </span><span style="color: #FFD173">:config</span>
<span style="color: #D4D2C8">  (org-download-enable)</span>
<span style="color: #D4D2C8">  </span><span style="color: #FFD173">:setq-default</span>
<span style="color: #D4D2C8">  (org-download-image-dir </span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8"> </span><span style="color: #D5FF80">&quot;_images&quot;</span><span style="color: #D4D2C8">))</span>

<span style="color: #7E8AA1">;; TODO: replace with org-superstar</span>
<span style="color: #D4D2C8">(leaf org-bullets</span>
<span style="color: #D4D2C8">  </span><span style="color: #FFD173">:hook</span><span style="color: #D4D2C8"> org-mode-hook</span>
<span style="color: #D4D2C8">  </span><span style="color: #FFD173">:setq</span>
<span style="color: #D4D2C8">  (org-bullets-bullet-list</span>
<span style="color: #D4D2C8">   </span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8"> </span><span style="color: #FFAD66">&#39;</span><span style="color: #D4D2C8">(</span><span style="color: #D5FF80">&quot;◉&quot;</span>
<span style="color: #D4D2C8">       </span><span style="color: #D5FF80">&quot;●&quot;</span>
<span style="color: #D4D2C8">       </span><span style="color: #D5FF80">&quot;○&quot;</span>
<span style="color: #D4D2C8">       </span><span style="color: #D5FF80">&quot;■&quot;</span>
<span style="color: #D4D2C8">       </span><span style="color: #D5FF80">&quot;□&quot;</span>
<span style="color: #D4D2C8">       </span><span style="color: #D5FF80">&quot;✦&quot;</span>
<span style="color: #D4D2C8">       </span><span style="color: #D5FF80">&quot;✧&quot;</span>
<span style="color: #D4D2C8">       </span><span style="color: #D5FF80">&quot;✿&quot;</span><span style="color: #D4D2C8">)))</span>

<span style="color: #D4D2C8">(leaf toc-org</span>
<span style="color: #D4D2C8">  </span><span style="color: #FFD173">:hook</span><span style="color: #D4D2C8"> org-mode-hook)</span>

<span style="color: #D4D2C8">(leaf anki-editor</span>
<span style="color: #D4D2C8">  </span><span style="color: #FFD173">:commands</span><span style="color: #D4D2C8"> (anki-editor-push-note-at-point</span>
<span style="color: #D4D2C8">             anki-editor-push-notes</span>
<span style="color: #D4D2C8">             anki-editor-push-new-notes)</span>
<span style="color: #D4D2C8">  </span><span style="color: #FFD173">:setq</span>
<span style="color: #D4D2C8">  (anki-editor-latex-style </span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8"> </span><span style="color: #DFBFFF">&#39;mathjax</span><span style="color: #D4D2C8">)</span>
<span style="color: #D4D2C8">  </span><span style="color: #FFD173">:defer-config</span>
<span style="color: #D4D2C8">  (</span><span style="color: #FFD173">defun</span><span style="color: #D4D2C8"> my/ensure-anki-editor-mode (note)</span>
<span style="color: #D4D2C8">    </span><span style="color: #D5FF80">&quot;Ensure </span><span style="color: #DFBFFF">`anki-editor-mode&#39;</span><span style="color: #D5FF80"> is enabled before pushing notes.&quot;</span>
<span style="color: #D4D2C8">    (</span><span style="color: #FFD173">unless</span><span style="color: #D4D2C8"> anki-editor-mode</span>
<span style="color: #D4D2C8">      (anki-editor-mode </span><span style="color: #DFBFFF">1</span><span style="color: #D4D2C8">)))</span>
<span style="color: #D4D2C8">  (advice-add </span><span style="color: #FFD173">#&#39;</span><span style="color: #D4D2C8">anki-editor--push-note </span><span style="color: #FFD173">:before</span><span style="color: #D4D2C8"> </span><span style="color: #FFD173">#&#39;</span><span style="color: #D4D2C8">my/ensure-anki-editor-mode))</span>

<span style="color: #D4D2C8">(</span><span style="color: #FFD173">use-package</span><span style="color: #D4D2C8"> f </span><span style="color: #FFD173">:ensure</span><span style="color: #D4D2C8"> (</span><span style="color: #FFD173">:wait</span><span style="color: #D4D2C8"> f))</span>
<span style="color: #D4D2C8">(leaf image-slicing </span><span style="color: #FFD173">:ensure</span><span style="color: #D4D2C8"> </span><span style="color: #FFD173">nil</span>
<span style="color: #D4D2C8">  </span><span style="color: #FFD173">:hook</span><span style="color: #D4D2C8"> org-mode-hook</span>
<span style="color: #D4D2C8">  </span><span style="color: #FFD173">:setq</span>
<span style="color: #D4D2C8">  (image-slicing-newline-trailing-text </span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8"> </span><span style="color: #FFD173">nil</span><span style="color: #D4D2C8">))</span>

<span style="color: #D4D2C8">(leaf org-auto-tangle</span>
<span style="color: #D4D2C8">  </span><span style="color: #FFD173">:hook</span><span style="color: #D4D2C8"> org-mode-hook)</span>

<span style="color: #D4D2C8">(leaf org-agenda </span><span style="color: #FFD173">:ensure</span><span style="color: #D4D2C8"> </span><span style="color: #FFD173">nil</span>
<span style="color: #D4D2C8">  </span><span style="color: #FFD173">:after</span><span style="color: #D4D2C8"> org</span>
<span style="color: #D4D2C8">  </span><span style="color: #FFD173">:init</span>
<span style="color: #D4D2C8">  (general-my-map</span>
<span style="color: #D4D2C8">    </span><span style="color: #D5FF80">&quot;oa&quot;</span><span style="color: #D4D2C8"> </span><span style="color: #DFBFFF">&#39;org-agenda</span><span style="color: #D4D2C8">)</span>

<span style="color: #D4D2C8">  </span><span style="color: #FFD173">:bind</span><span style="color: #D4D2C8"> (org-agenda-mode-map</span>
<span style="color: #D4D2C8">         (</span><span style="color: #D5FF80">&quot;)&quot;</span><span style="color: #D4D2C8"> </span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8"> </span><span style="color: #DFBFFF">&#39;org-agenda-todo</span><span style="color: #D4D2C8">))</span>

<span style="color: #D4D2C8">  </span><span style="color: #FFD173">:config</span>
<span style="color: #D4D2C8">  (</span><span style="color: #FFAD66">setq</span><span style="color: #D4D2C8"> org-todo-keywords</span>
<span style="color: #D4D2C8">        </span><span style="color: #FFAD66">&#39;</span><span style="color: #D4D2C8">((sequence </span><span style="color: #D5FF80">&quot;TODO(t)&quot;</span><span style="color: #D4D2C8"> </span><span style="color: #D5FF80">&quot;NEXT(n)&quot;</span>
<span style="color: #D4D2C8">                    </span><span style="color: #D5FF80">&quot;|&quot;</span>
<span style="color: #D4D2C8">                    </span><span style="color: #D5FF80">&quot;DONE(d/!)&quot;</span><span style="color: #D4D2C8">)))</span>
<span style="color: #D4D2C8">  (</span><span style="color: #FFAD66">setq</span><span style="color: #D4D2C8"> org-agenda-files</span>
<span style="color: #D4D2C8">        (</span><span style="color: #FFD173">list</span><span style="color: #D4D2C8"> </span><span style="color: #D5FF80">&quot;~/Notes/org/Inbox.org&quot;</span>
<span style="color: #D4D2C8">              </span><span style="color: #D5FF80">&quot;~/Notes/org/agenda.org&quot;</span><span style="color: #D4D2C8">))</span>
<span style="color: #D4D2C8">  (</span><span style="color: #FFAD66">setq</span><span style="color: #D4D2C8"> org-tag-alist</span>
<span style="color: #D4D2C8">        </span><span style="color: #FFAD66">&#39;</span><span style="color: #D4D2C8">(</span><span style="color: #7E8AA1">;; Places</span>
<span style="color: #D4D2C8">          (</span><span style="color: #D5FF80">&quot;@home&quot;</span><span style="color: #D4D2C8">   </span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8"> </span><span style="color: #D5FF80">?H</span><span style="color: #D4D2C8">)</span>
<span style="color: #D4D2C8">          (</span><span style="color: #D5FF80">&quot;@school&quot;</span><span style="color: #D4D2C8"> </span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8"> </span><span style="color: #D5FF80">?S</span><span style="color: #D4D2C8">)</span>
<span style="color: #D4D2C8">          </span><span style="color: #7E8AA1">;; (&quot;@work&quot; . ?W)</span>
<span style="color: #D4D2C8">          </span><span style="color: #7E8AA1">;; Activities</span>
<span style="color: #D4D2C8">          (</span><span style="color: #D5FF80">&quot;@task&quot;</span><span style="color: #D4D2C8"> </span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8"> </span><span style="color: #D5FF80">?t</span><span style="color: #D4D2C8">)</span>
<span style="color: #D4D2C8">          (</span><span style="color: #D5FF80">&quot;@studying&quot;</span><span style="color: #D4D2C8"> </span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8"> </span><span style="color: #D5FF80">?s</span><span style="color: #D4D2C8">)</span>
<span style="color: #D4D2C8">          (</span><span style="color: #D5FF80">&quot;@errands&quot;</span><span style="color: #D4D2C8">  </span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8"> </span><span style="color: #D5FF80">?e</span><span style="color: #D4D2C8">)</span>
<span style="color: #D4D2C8">          (</span><span style="color: #D5FF80">&quot;@tidy&quot;</span><span style="color: #D4D2C8"> </span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8"> </span><span style="color: #D5FF80">?y</span><span style="color: #D4D2C8">)</span>
<span style="color: #D4D2C8">          (</span><span style="color: #D5FF80">&quot;@creative&quot;</span><span style="color: #D4D2C8"> </span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8"> </span><span style="color: #D5FF80">?c</span><span style="color: #D4D2C8">)</span>
<span style="color: #D4D2C8">          (</span><span style="color: #D5FF80">&quot;@art&quot;</span><span style="color: #D4D2C8"> </span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8"> </span><span style="color: #D5FF80">?a</span><span style="color: #D4D2C8">)</span>
<span style="color: #D4D2C8">          (</span><span style="color: #D5FF80">&quot;@programming&quot;</span><span style="color: #D4D2C8"> </span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8"> </span><span style="color: #D5FF80">?p</span><span style="color: #D4D2C8">)</span>
<span style="color: #D4D2C8">          (</span><span style="color: #D5FF80">&quot;@today&quot;</span><span style="color: #D4D2C8"> </span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8"> </span><span style="color: #D5FF80">?T</span><span style="color: #D4D2C8">)</span>
<span style="color: #D4D2C8">          </span><span style="color: #7E8AA1">;; (&quot;@calls&quot; . ?l)</span>
<span style="color: #D4D2C8">          </span><span style="color: #7E8AA1">;; Devices</span>
<span style="color: #D4D2C8">          (</span><span style="color: #D5FF80">&quot;@phone&quot;</span><span style="color: #D4D2C8"> </span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8"> </span><span style="color: #D5FF80">?P</span><span style="color: #D4D2C8">)</span>
<span style="color: #D4D2C8">          (</span><span style="color: #D5FF80">&quot;@computer&quot;</span><span style="color: #D4D2C8"> </span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8"> </span><span style="color: #D5FF80">?C</span><span style="color: #D4D2C8">)))</span>
<span style="color: #D4D2C8">  (</span><span style="color: #FFAD66">setq</span><span style="color: #D4D2C8"> org-agenda-prefix-format</span>
<span style="color: #D4D2C8">        </span><span style="color: #FFAD66">`</span><span style="color: #D4D2C8">((agenda</span>
<span style="color: #D4D2C8">           </span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8"> </span><span style="color: #FFAD66">,</span><span style="color: #D4D2C8">(</span><span style="color: #FFD173">concat</span><span style="color: #D4D2C8"> </span><span style="color: #D5FF80">&quot; %i &quot;</span>
<span style="color: #D4D2C8">                      </span><span style="color: #D5FF80">&quot;%?-12t&quot;</span>
<span style="color: #D4D2C8">                      </span><span style="color: #D5FF80">&quot;[%3(my/org-get-prop-effort)]    &quot;</span>
<span style="color: #D4D2C8">                      </span><span style="color: #7E8AA1">;; &quot;%3(my/org-get-prop-effort)  &quot;</span>
<span style="color: #D4D2C8">                      </span><span style="color: #D5FF80">&quot;% s&quot;</span><span style="color: #D4D2C8">))</span>
<span style="color: #D4D2C8">          (todo   </span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8"> </span><span style="color: #D5FF80">&quot; %i &quot;</span><span style="color: #D4D2C8">)</span>
<span style="color: #D4D2C8">          (tags   </span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8"> </span><span style="color: #D5FF80">&quot; %i %-12:c&quot;</span><span style="color: #D4D2C8">)</span>
<span style="color: #D4D2C8">          </span><span style="color: #7E8AA1">;; (search . &quot; %i %-12:c&quot;)</span>
<span style="color: #D4D2C8">          (search </span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8"> </span><span style="color: #D5FF80">&quot; %c&quot;</span><span style="color: #D4D2C8">)</span>
<span style="color: #D4D2C8">          ))</span>

<span style="color: #D4D2C8">  (</span><span style="color: #FFD173">defun</span><span style="color: #D4D2C8"> my/org-get-prop-effort ()</span>
<span style="color: #D4D2C8">    (</span><span style="color: #FFAD66">if</span><span style="color: #D4D2C8"> (not (</span><span style="color: #FFD173">eq</span><span style="color: #D4D2C8"> major-mode </span><span style="color: #DFBFFF">&#39;org-mode</span><span style="color: #D4D2C8">)) </span><span style="color: #D5FF80">&quot;&quot;</span>
<span style="color: #D4D2C8">      (</span><span style="color: #FFAD66">let</span><span style="color: #D4D2C8"> ((val (org-entry-get </span><span style="color: #FFD173">nil</span><span style="color: #D4D2C8"> </span><span style="color: #D5FF80">&quot;EFFORT&quot;</span><span style="color: #D4D2C8">)))</span>
<span style="color: #D4D2C8">        (</span><span style="color: #FFAD66">if</span><span style="color: #D4D2C8"> (not val) </span><span style="color: #D5FF80">&quot;&quot;</span>
<span style="color: #D4D2C8">          (</span><span style="color: #FFD173">format</span><span style="color: #D4D2C8"> </span><span style="color: #D5FF80">&quot;%s&quot;</span><span style="color: #D4D2C8"> (string-trim val))))))</span>

<span style="color: #D4D2C8">  (</span><span style="color: #FFD173">require</span><span style="color: #D4D2C8"> </span><span style="color: #DFBFFF">&#39;org-habit</span><span style="color: #D4D2C8">)</span>
<span style="color: #D4D2C8">  (add-to-list </span><span style="color: #DFBFFF">&#39;org-modules</span><span style="color: #D4D2C8"> </span><span style="color: #DFBFFF">&#39;org-habit</span><span style="color: #D4D2C8"> </span><span style="color: #FFD173">t</span><span style="color: #D4D2C8">))</span>

<span style="color: #D4D2C8">(leaf org-super-agenda</span>
<span style="color: #D4D2C8">  </span><span style="color: #FFD173">:after</span><span style="color: #D4D2C8"> org-agenda</span>
<span style="color: #D4D2C8">  </span><span style="color: #FFD173">:require</span><span style="color: #D4D2C8"> </span><span style="color: #FFD173">t</span>
<span style="color: #D4D2C8">  </span><span style="color: #FFD173">:config</span>
<span style="color: #D4D2C8">  (org-super-agenda-mode </span><span style="color: #DFBFFF">1</span><span style="color: #D4D2C8">)</span>
<span style="color: #D4D2C8">  </span><span style="color: #FFD173">:setq</span>
<span style="color: #D4D2C8">  (org-agenda-custom-commands</span>
<span style="color: #D4D2C8">   </span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8"> </span><span style="color: #FFAD66">`</span><span style="color: #D4D2C8">(</span>
<span style="color: #D4D2C8">       (</span><span style="color: #D5FF80">&quot;a&quot;</span><span style="color: #D4D2C8"> </span><span style="color: #D5FF80">&quot;main agenda&quot;</span>
<span style="color: #D4D2C8">        ((agenda </span><span style="color: #D5FF80">&quot;&quot;</span>
<span style="color: #D4D2C8">                 ((org-agenda-show-future-repeats </span><span style="color: #FFD173">nil</span><span style="color: #D4D2C8">)</span>
<span style="color: #D4D2C8">                  (org-agenda-start-on-weekday </span><span style="color: #FFD173">nil</span><span style="color: #D4D2C8">)</span>
<span style="color: #D4D2C8">                  (org-agenda-span </span><span style="color: #DFBFFF">&#39;week</span><span style="color: #D4D2C8">)</span>
<span style="color: #D4D2C8">                  (org-habit-show-habits </span><span style="color: #FFD173">nil</span><span style="color: #D4D2C8">)</span>
<span style="color: #D4D2C8">                  (org-agenda-skip-deadline-if-done </span><span style="color: #FFD173">t</span><span style="color: #D4D2C8">)</span>
<span style="color: #D4D2C8">                  (org-agenda-skip-scheduled-if-done </span><span style="color: #FFD173">t</span><span style="color: #D4D2C8">)))</span>
<span style="color: #D4D2C8">         (todo </span><span style="color: #D5FF80">&quot;NEXT&quot;</span><span style="color: #D4D2C8">)</span>
<span style="color: #D4D2C8">         (agenda </span><span style="color: #D5FF80">&quot;&quot;</span>
<span style="color: #D4D2C8">                 ((org-agenda-span </span><span style="color: #DFBFFF">1</span><span style="color: #D4D2C8">)</span>
<span style="color: #D4D2C8">                  (org-agenda-use-time-grid </span><span style="color: #FFD173">nil</span><span style="color: #D4D2C8">)</span>
<span style="color: #D4D2C8">                  (org-super-agenda-groups</span>
<span style="color: #D4D2C8">                   </span><span style="color: #FFAD66">&#39;</span><span style="color: #D4D2C8">((</span><span style="color: #FFD173">:name</span><span style="color: #D4D2C8"> none</span>
<span style="color: #D4D2C8">                            </span><span style="color: #FFD173">:habit</span><span style="color: #D4D2C8"> </span><span style="color: #FFD173">t</span><span style="color: #D4D2C8">)</span>
<span style="color: #D4D2C8">                     (</span><span style="color: #FFD173">:discard</span><span style="color: #D4D2C8"> (</span><span style="color: #FFD173">:anything</span><span style="color: #D4D2C8"> </span><span style="color: #FFD173">t</span><span style="color: #D4D2C8">)))))))))))</span>

<span style="color: #D4D2C8">(leaf org-ql</span>
<span style="color: #D4D2C8">  </span><span style="color: #FFD173">:after</span><span style="color: #D4D2C8"> org)</span>

<span style="color: #D4D2C8">(leaf org-pomodoro</span>
<span style="color: #D4D2C8">  </span><span style="color: #FFD173">:after</span><span style="color: #D4D2C8"> org)</span>

<span style="color: #D4D2C8">(leaf org-noter</span>
<span style="color: #D4D2C8">  </span><span style="color: #FFD173">:after</span><span style="color: #D4D2C8"> org</span>
<span style="color: #D4D2C8">  </span><span style="color: #FFD173">:bind</span><span style="color: #D4D2C8"> ((</span><span style="color: #D5FF80">&quot;C-c o n&quot;</span><span style="color: #D4D2C8"> </span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8"> org-noter)</span>
<span style="color: #D4D2C8">         (</span><span style="color: #D5FF80">&quot;C-c d n&quot;</span><span style="color: #D4D2C8"> </span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8"> org-noter-start-from-dired)</span>
<span style="color: #D4D2C8">         (</span><span style="color: #D5FF80">&quot;C-c o p&quot;</span><span style="color: #D4D2C8"> </span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8"> my/org-noter-set-prop-current-page))</span>
<span style="color: #D4D2C8">  </span><span style="color: #FFD173">:setq</span>
<span style="color: #D4D2C8">  (org-noter-doc-split-fraction </span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8"> </span><span style="color: #FFAD66">&#39;</span><span style="color: #D4D2C8">(</span><span style="color: #DFBFFF">0.7</span><span style="color: #D4D2C8"> </span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8"> </span><span style="color: #DFBFFF">0.6</span><span style="color: #D4D2C8">))</span>
<span style="color: #D4D2C8">  </span><span style="color: #FFD173">:config</span>
<span style="color: #D4D2C8">  (</span><span style="color: #FFD173">defun</span><span style="color: #D4D2C8"> my/org-noter-set-prop-current-page (arg)</span>
<span style="color: #D4D2C8">    </span><span style="color: #D5FF80">&quot;Set the property </span><span style="color: #DFBFFF">`NOTER_PAGE&#39;</span><span style="color: #D5FF80"> of the current org heading to the current noter page.</span>
<span style="color: #D5FF80">The property will be removed if ran with a \\[universal-argument].&quot;</span>
<span style="color: #D4D2C8">    (</span><span style="color: #FFAD66">interactive</span><span style="color: #D4D2C8"> </span><span style="color: #D5FF80">&quot;P&quot;</span><span style="color: #D4D2C8">)</span>
<span style="color: #D4D2C8">    (org-noter--with-selected-notes-window</span>
<span style="color: #D4D2C8">     (</span><span style="color: #FFAD66">if</span><span style="color: #D4D2C8"> (</span><span style="color: #FFD173">equal</span><span style="color: #D4D2C8"> arg </span><span style="color: #FFAD66">&#39;</span><span style="color: #D4D2C8">(</span><span style="color: #DFBFFF">4</span><span style="color: #D4D2C8">))</span>
<span style="color: #D4D2C8">         (org-delete-property </span><span style="color: #D5FF80">&quot;NOTER_PAGE&quot;</span><span style="color: #D4D2C8">)</span>
<span style="color: #D4D2C8">       (when-let ((vec (org-noter--get-current-view))</span>
<span style="color: #D4D2C8">                  (num (</span><span style="color: #FFAD66">and</span><span style="color: #D4D2C8"> (</span><span style="color: #FFD173">vectorp</span><span style="color: #D4D2C8"> vec)</span>
<span style="color: #D4D2C8">                            (</span><span style="color: #FFD173">&gt;</span><span style="color: #D4D2C8"> (</span><span style="color: #FFD173">length</span><span style="color: #D4D2C8"> vec) </span><span style="color: #DFBFFF">1</span><span style="color: #D4D2C8">)</span>
<span style="color: #D4D2C8">                            (</span><span style="color: #FFD173">format</span><span style="color: #D4D2C8"> </span><span style="color: #D5FF80">&quot;%s&quot;</span><span style="color: #D4D2C8"> (</span><span style="color: #FFD173">aref</span><span style="color: #D4D2C8"> vec </span><span style="color: #DFBFFF">1</span><span style="color: #D4D2C8">)))))</span>
<span style="color: #D4D2C8">         (</span><span style="color: #FFD173">message</span><span style="color: #D4D2C8"> </span><span style="color: #D5FF80">&quot;meow: %s&quot;</span><span style="color: #D4D2C8"> num)</span>
<span style="color: #D4D2C8">         (org-entry-put (</span><span style="color: #FFD173">point</span><span style="color: #D4D2C8">) </span><span style="color: #D5FF80">&quot;NOTER_PAGE&quot;</span><span style="color: #D4D2C8"> num))))))</span>

<span style="color: #D4D2C8">(leaf org-capture </span><span style="color: #FFD173">:ensure</span><span style="color: #D4D2C8"> </span><span style="color: #FFD173">nil</span>
<span style="color: #D4D2C8">  </span><span style="color: #FFD173">:after</span><span style="color: #D4D2C8"> org</span>
<span style="color: #D4D2C8">  </span><span style="color: #FFD173">:init</span>
<span style="color: #D4D2C8">  (general-my-map</span>
<span style="color: #D4D2C8">    </span><span style="color: #D5FF80">&quot;oc&quot;</span><span style="color: #D4D2C8"> </span><span style="color: #DFBFFF">&#39;org-capture</span><span style="color: #D4D2C8">)</span>

<span style="color: #D4D2C8">  </span><span style="color: #FFD173">:config</span>
<span style="color: #D4D2C8">  (</span><span style="color: #FFD173">defun</span><span style="color: #D4D2C8"> my/get-org-agenda-denote-file (name)</span>
<span style="color: #D4D2C8">    (</span><span style="color: #FFAD66">let</span><span style="color: #D4D2C8"> ((regex (</span><span style="color: #FFD173">format</span><span style="color: #D4D2C8"> </span><span style="color: #D5FF80">&quot;^.*--%s__.*\\.org$&quot;</span><span style="color: #D4D2C8"> name)))</span>
<span style="color: #D4D2C8">      (</span><span style="color: #FFD173">car</span><span style="color: #D4D2C8"> (seq-filter</span>
<span style="color: #D4D2C8">            (</span><span style="color: #FFD173">lambda</span><span style="color: #D4D2C8"> (path)</span>
<span style="color: #D4D2C8">              (</span><span style="color: #FFD173">string-match</span><span style="color: #D4D2C8"> regex (</span><span style="color: #FFD173">file-name-nondirectory</span><span style="color: #D4D2C8"> path)))</span>
<span style="color: #D4D2C8">            org-agenda-files))))</span>

<span style="color: #D4D2C8">  (</span><span style="color: #FFAD66">setq</span><span style="color: #D4D2C8"> org-capture-templates</span>
<span style="color: #D4D2C8">        </span><span style="color: #FFAD66">`</span><span style="color: #D4D2C8">((</span><span style="color: #D5FF80">&quot;t&quot;</span><span style="color: #D4D2C8"> </span><span style="color: #D5FF80">&quot;Tasks&quot;</span><span style="color: #D4D2C8">)</span>

<span style="color: #D4D2C8">          (</span><span style="color: #D5FF80">&quot;td&quot;</span><span style="color: #D4D2C8"> </span><span style="color: #D5FF80">&quot;Todo with deadline&quot;</span><span style="color: #D4D2C8"> entry</span>
<span style="color: #D4D2C8">           (file </span><span style="color: #FFAD66">,</span><span style="color: #D4D2C8">(my/get-org-agenda-denote-file </span><span style="color: #D5FF80">&quot;agenda&quot;</span><span style="color: #D4D2C8">))</span>
<span style="color: #D4D2C8">           </span><span style="color: #D5FF80">&quot;* TODO %^{Task}\nDEADLINE: %^{Deadline}t\n%?\n&quot;</span>
<span style="color: #D4D2C8">           </span><span style="color: #FFD173">:empty-lines</span><span style="color: #D4D2C8"> </span><span style="color: #DFBFFF">1</span>
<span style="color: #D4D2C8">           </span><span style="color: #FFD173">:immediate-finish</span><span style="color: #D4D2C8"> </span><span style="color: #FFD173">nil</span><span style="color: #D4D2C8">)</span>

<span style="color: #D4D2C8">          (</span><span style="color: #D5FF80">&quot;tp&quot;</span><span style="color: #D4D2C8"> </span><span style="color: #D5FF80">&quot;Task&quot;</span><span style="color: #D4D2C8"> entry</span>
<span style="color: #D4D2C8">           (file </span><span style="color: #FFAD66">,</span><span style="color: #D4D2C8">(my/get-org-agenda-denote-file </span><span style="color: #D5FF80">&quot;agenda&quot;</span><span style="color: #D4D2C8">))</span>
<span style="color: #D4D2C8">           </span><span style="color: #D5FF80">&quot;* TODO %?\n  %U\n  %a\n  %i&quot;</span><span style="color: #D4D2C8"> </span><span style="color: #FFD173">:empty-lines</span><span style="color: #D4D2C8"> </span><span style="color: #DFBFFF">1</span><span style="color: #D4D2C8">)</span>

<span style="color: #D4D2C8">          (</span><span style="color: #D5FF80">&quot;n&quot;</span><span style="color: #D4D2C8"> </span><span style="color: #D5FF80">&quot;New note (with Denote)&quot;</span><span style="color: #D4D2C8"> plain</span>
<span style="color: #D4D2C8">           (file denote-last-path)</span>
<span style="color: #D4D2C8">           </span><span style="color: #FFD173">#&#39;</span><span style="color: #D4D2C8">denote-org-capture </span><span style="color: #FFD173">:no-save</span><span style="color: #D4D2C8"> </span><span style="color: #FFD173">t</span><span style="color: #D4D2C8"> </span><span style="color: #FFD173">:immediate-finish</span><span style="color: #D4D2C8"> </span><span style="color: #FFD173">nil</span>
<span style="color: #D4D2C8">           </span><span style="color: #FFD173">:kill-buffer</span><span style="color: #D4D2C8"> </span><span style="color: #FFD173">t</span><span style="color: #D4D2C8"> </span><span style="color: #FFD173">:jump-to-captured</span><span style="color: #D4D2C8"> </span><span style="color: #FFD173">t</span><span style="color: #D4D2C8">))))</span>

<span style="color: #D4D2C8">(</span><span style="color: #FFD173">defun</span><span style="color: #D4D2C8"> my/org-priority-to-anki ()</span>
<span style="color: #D4D2C8">  (</span><span style="color: #FFAD66">interactive</span><span style="color: #D4D2C8">)</span>
<span style="color: #D4D2C8">  </span><span style="color: #7E8AA1">;; check connection with anki</span>
<span style="color: #D4D2C8">  (</span><span style="color: #FFD173">unless</span><span style="color: #D4D2C8"> (</span><span style="color: #FFAD66">or</span><span style="color: #D4D2C8"> (</span><span style="color: #FFD173">boundp</span><span style="color: #D4D2C8"> </span><span style="color: #DFBFFF">&#39;anki-editor-mode</span><span style="color: #D4D2C8">) anki-editor-mode)</span>
<span style="color: #D4D2C8">    (anki-editor-mode </span><span style="color: #DFBFFF">1</span><span style="color: #D4D2C8">))</span>
<span style="color: #D4D2C8">  (anki-editor-api-check)</span>
<span style="color: #D4D2C8">  </span><span style="color: #7E8AA1">;; delete anki_note_type and/or anki_note_id for each w/o a priority</span>
<span style="color: #D4D2C8">  (</span><span style="color: #FFAD66">save-excursion</span>
<span style="color: #D4D2C8">    (</span><span style="color: #FFAD66">let</span><span style="color: #D4D2C8"> ((points-no-priority</span>
<span style="color: #D4D2C8">           (org-ql-query</span>
<span style="color: #D4D2C8">             </span><span style="color: #FFD173">:select</span><span style="color: #D4D2C8"> </span><span style="color: #FFD173">#&#39;point-marker</span>
<span style="color: #D4D2C8">             </span><span style="color: #FFD173">:from</span><span style="color: #D4D2C8"> (</span><span style="color: #FFD173">current-buffer</span><span style="color: #D4D2C8">)</span>
<span style="color: #D4D2C8">             </span><span style="color: #FFD173">:where</span>
<span style="color: #D4D2C8">             </span><span style="color: #FFAD66">&#39;</span><span style="color: #D4D2C8">(</span><span style="color: #FFAD66">and</span><span style="color: #D4D2C8"> (not (priority))</span>
<span style="color: #D4D2C8">                   (</span><span style="color: #FFAD66">or</span><span style="color: #D4D2C8"> (property </span><span style="color: #D5FF80">&quot;ANKI_NOTE_ID&quot;</span><span style="color: #D4D2C8">)</span>
<span style="color: #D4D2C8">                       (property </span><span style="color: #D5FF80">&quot;ANKI_NOTE_TYPE&quot;</span><span style="color: #D4D2C8">))))))</span>
<span style="color: #D4D2C8">      (</span><span style="color: #FFD173">dolist</span><span style="color: #D4D2C8"> (p (</span><span style="color: #FFD173">reverse</span><span style="color: #D4D2C8"> points-no-priority))</span>
<span style="color: #D4D2C8">        (</span><span style="color: #FFD173">goto-char</span><span style="color: #D4D2C8"> p)</span>
<span style="color: #D4D2C8">        (</span><span style="color: #FFD173">when</span><span style="color: #D4D2C8"> (org-find-property </span><span style="color: #D5FF80">&quot;ANKI_NOTE_ID&quot;</span><span style="color: #D4D2C8">)</span>
<span style="color: #D4D2C8">          (anki-editor-delete-note-at-point))</span>
<span style="color: #D4D2C8">        (</span><span style="color: #FFD173">when</span><span style="color: #D4D2C8"> (org-find-property </span><span style="color: #D5FF80">&quot;ANKI_NOTE_TYPE&quot;</span><span style="color: #D4D2C8">)</span>
<span style="color: #D4D2C8">          (org-delete-property </span><span style="color: #D5FF80">&quot;ANKI_NOTE_TYPE&quot;</span><span style="color: #D4D2C8">)))))</span>
<span style="color: #D4D2C8">  </span><span style="color: #7E8AA1">;; ensure all priority headings have anki_note_type set</span>
<span style="color: #D4D2C8">  (</span><span style="color: #FFAD66">save-excursion</span>
<span style="color: #D4D2C8">    (</span><span style="color: #FFAD66">let</span><span style="color: #D4D2C8"> ((points-yes-priority</span>
<span style="color: #D4D2C8">           (org-ql-query</span>
<span style="color: #D4D2C8">             </span><span style="color: #FFD173">:select</span><span style="color: #D4D2C8"> </span><span style="color: #FFD173">#&#39;point-marker</span>
<span style="color: #D4D2C8">             </span><span style="color: #FFD173">:from</span><span style="color: #D4D2C8"> (</span><span style="color: #FFD173">current-buffer</span><span style="color: #D4D2C8">)</span>
<span style="color: #D4D2C8">             </span><span style="color: #FFD173">:where</span><span style="color: #D4D2C8"> </span><span style="color: #FFAD66">&#39;</span><span style="color: #D4D2C8">(priority))))</span>
<span style="color: #D4D2C8">      (</span><span style="color: #FFD173">dolist</span><span style="color: #D4D2C8"> (p (</span><span style="color: #FFD173">reverse</span><span style="color: #D4D2C8"> points-yes-priority))</span>
<span style="color: #D4D2C8">        (</span><span style="color: #FFD173">goto-char</span><span style="color: #D4D2C8"> p)</span>
<span style="color: #D4D2C8">        (</span><span style="color: #FFD173">unless</span><span style="color: #D4D2C8"> (org-entry-get </span><span style="color: #FFD173">nil</span><span style="color: #D4D2C8"> </span><span style="color: #D5FF80">&quot;ANKI_NOTE_TYPE&quot;</span><span style="color: #D4D2C8">)</span>
<span style="color: #D4D2C8">          (anki-editor-set-note-type </span><span style="color: #FFD173">nil</span><span style="color: #D4D2C8"> </span><span style="color: #D5FF80">&quot;Basic&quot;</span><span style="color: #D4D2C8">))))))</span>

<span style="color: #D4D2C8">(</span><span style="color: #FFD173">defun</span><span style="color: #D4D2C8"> my/org-clone-with-fraction (days time effort)</span>
<span style="color: #D4D2C8">  </span><span style="color: #D5FF80">&quot;Clone subtree with time shifts, prefixing each subheading with fraction prefix.&quot;</span>
<span style="color: #D4D2C8">  (</span><span style="color: #FFAD66">interactive</span>
<span style="color: #D4D2C8">   (</span><span style="color: #FFD173">list</span>
<span style="color: #D4D2C8">    (read-number </span><span style="color: #D5FF80">&quot;How many days to complete it over?: &quot;</span><span style="color: #D4D2C8">)</span>
<span style="color: #D4D2C8">    (read-number </span><span style="color: #D5FF80">&quot;How many minutes do you expect this task to take?: &quot;</span><span style="color: #D4D2C8">)</span>
<span style="color: #D4D2C8">    (read-number </span><span style="color: #D5FF80">&quot;On a scale of 1-10, how much effort will this take?: &quot;</span><span style="color: #D4D2C8">)))</span>
<span style="color: #D4D2C8">  (</span><span style="color: #FFAD66">setq</span><span style="color: #D4D2C8"> days (</span><span style="color: #FFD173">1-</span><span style="color: #D4D2C8"> days))</span>
<span style="color: #D4D2C8">  </span><span style="color: #7E8AA1">;; create clones</span>
<span style="color: #D4D2C8">  (org-clone-subtree-with-time-shift days </span><span style="color: #D5FF80">&quot;-1d&quot;</span><span style="color: #D4D2C8">)</span>
<span style="color: #D4D2C8">  (org-set-property </span><span style="color: #D5FF80">&quot;TIME&quot;</span><span style="color: #D4D2C8"> (</span><span style="color: #FFD173">format</span><span style="color: #D4D2C8"> </span><span style="color: #D5FF80">&quot;%s&quot;</span><span style="color: #D4D2C8"> time))</span>
<span style="color: #D4D2C8">  (org-set-property </span><span style="color: #D5FF80">&quot;EFFORT&quot;</span><span style="color: #D4D2C8"> (</span><span style="color: #FFD173">format</span><span style="color: #D4D2C8"> </span><span style="color: #D5FF80">&quot;%s&quot;</span><span style="color: #D4D2C8"> effort))</span>
<span style="color: #D4D2C8">  </span><span style="color: #7E8AA1">;; adjust appropriately</span>
<span style="color: #D4D2C8">  (</span><span style="color: #FFAD66">save-excursion</span>
<span style="color: #D4D2C8">    (org-next-visible-heading </span><span style="color: #DFBFFF">1</span><span style="color: #D4D2C8">)</span>
<span style="color: #D4D2C8">    </span><span style="color: #7E8AA1">;; first, sort</span>
<span style="color: #D4D2C8">    (</span><span style="color: #FFD173">cl-loop</span><span style="color: #D4D2C8"> for depth from (</span><span style="color: #FFD173">1-</span><span style="color: #D4D2C8"> days) downto </span><span style="color: #DFBFFF">1</span><span style="color: #D4D2C8"> </span><span style="color: #FFD173">do</span>
<span style="color: #D4D2C8">             (</span><span style="color: #FFAD66">save-excursion</span>
<span style="color: #D4D2C8">               </span><span style="color: #7E8AA1">;; shift</span>
<span style="color: #D4D2C8">               (</span><span style="color: #FFD173">dotimes</span><span style="color: #D4D2C8"> (_ depth)</span>
<span style="color: #D4D2C8">                 (org-metadown))))</span>
<span style="color: #D4D2C8">    </span><span style="color: #7E8AA1">;; add todo and demote</span>
<span style="color: #D4D2C8">    (</span><span style="color: #FFAD66">save-excursion</span>
<span style="color: #D4D2C8">      (</span><span style="color: #FFD173">cl-loop</span><span style="color: #D4D2C8"> repeat (</span><span style="color: #FFD173">1-</span><span style="color: #D4D2C8"> days) </span><span style="color: #FFD173">do</span>
<span style="color: #D4D2C8">               (org-next-visible-heading </span><span style="color: #DFBFFF">1</span><span style="color: #D4D2C8">))</span>
<span style="color: #D4D2C8">      (</span><span style="color: #FFD173">cl-loop</span><span style="color: #D4D2C8"> for depth from (</span><span style="color: #FFD173">1-</span><span style="color: #D4D2C8"> days) downto </span><span style="color: #DFBFFF">0</span><span style="color: #D4D2C8"> </span><span style="color: #FFD173">do</span>
<span style="color: #D4D2C8">               (</span><span style="color: #FFAD66">let</span><span style="color: #D4D2C8"> ((frac (</span><span style="color: #FFD173">format</span><span style="color: #D4D2C8"> </span><span style="color: #D5FF80">&quot;%d/%d&quot;</span><span style="color: #D4D2C8"> (</span><span style="color: #FFD173">1+</span><span style="color: #D4D2C8"> depth) days))</span>
<span style="color: #D4D2C8">                     (time-daily (</span><span style="color: #FFD173">/</span><span style="color: #D4D2C8"> time days)))</span>
<span style="color: #D4D2C8">                 (org-demote)</span>
<span style="color: #D4D2C8">                 (</span><span style="color: #FFAD66">let</span><span style="color: #D4D2C8"> ((org-special-ctrl-a/e </span><span style="color: #FFD173">t</span><span style="color: #D4D2C8">))</span>
<span style="color: #D4D2C8">                   (org-beginning-of-line))</span>
<span style="color: #D4D2C8">                 (</span><span style="color: #FFD173">insert</span><span style="color: #D4D2C8"> (</span><span style="color: #FFD173">concat</span><span style="color: #D4D2C8"> frac </span><span style="color: #D5FF80">&quot; &quot;</span><span style="color: #D4D2C8">))</span>
<span style="color: #D4D2C8">                 (org-set-property </span><span style="color: #D5FF80">&quot;FRACTION&quot;</span><span style="color: #D4D2C8"> frac)</span>
<span style="color: #D4D2C8">                 (org-set-property </span><span style="color: #D5FF80">&quot;TIME&quot;</span><span style="color: #D4D2C8"> (</span><span style="color: #FFD173">format</span><span style="color: #D4D2C8"> </span><span style="color: #D5FF80">&quot;%s&quot;</span><span style="color: #D4D2C8"> time-daily))</span>
<span style="color: #D4D2C8">                 (org-set-property </span><span style="color: #D5FF80">&quot;EFFORT&quot;</span><span style="color: #D4D2C8"> (</span><span style="color: #FFD173">format</span><span style="color: #D4D2C8"> </span><span style="color: #D5FF80">&quot;%s&quot;</span><span style="color: #D4D2C8"> effort))</span>
<span style="color: #D4D2C8">                 (org-next-visible-heading </span><span style="color: #DFBFFF">-1</span><span style="color: #D4D2C8">))))))</span>

<span style="color: #D4D2C8">(leaf visual-fill-column</span>
<span style="color: #D4D2C8">  </span><span style="color: #FFD173">:require</span><span style="color: #D4D2C8"> </span><span style="color: #FFD173">t</span>
<span style="color: #D4D2C8">  </span><span style="color: #FFD173">:hook</span><span style="color: #D4D2C8"> ((org-mode-hook </span><span style="color: #FFAD66">.</span><span style="color: #D4D2C8"> my/org-visual-fill))</span>
<span style="color: #D4D2C8">  </span><span style="color: #FFD173">:init</span>
<span style="color: #D4D2C8">  (</span><span style="color: #FFD173">defun</span><span style="color: #D4D2C8"> my/org-visual-fill ()</span>
<span style="color: #D4D2C8">    (</span><span style="color: #FFAD66">setq</span><span style="color: #D4D2C8"> visual-fill-column-width </span><span style="color: #DFBFFF">100</span>
<span style="color: #D4D2C8">          visual-fill-column-center-text </span><span style="color: #FFD173">t</span><span style="color: #D4D2C8">)</span>
<span style="color: #D4D2C8">    (visual-fill-column-mode </span><span style="color: #DFBFFF">1</span><span style="color: #D4D2C8">)))</span>

<span style="color: #D4D2C8">(</span><span style="color: #FFD173">provide</span><span style="color: #D4D2C8"> </span><span style="color: #DFBFFF">&#39;my-org</span><span style="color: #D4D2C8">)</span>
</code></pre></div>
<hr />
<p><em>Last updated: { git_revision_date_localized }</em></p>
</section>

<section id="mkdocs-terminal-after-content">
    
</section>

            </main>
        </div>
        <hr><footer>
    <div class="terminal-mkdocs-footer-grid">
        <div id="terminal-mkdocs-footer-copyright-info">
             Site built with <a href="http://www.mkdocs.org">MkDocs</a> and <a href="https://github.com/ntno/mkdocs-terminal">Terminal for MkDocs</a>.
        </div>
    </div>
</footer>
    </div>

    
    <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="alertdialog" aria-modal="true" aria-labelledby="searchModalLabel">
    <div class="modal-dialog modal-lg" role="search">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="searchModalLabel">Search</h5>
                <button type="button" class="close btn btn-default btn-ghost" data-dismiss="modal"><span aria-hidden="true">x</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
                <p id="searchInputLabel">Type to start searching</p>
                <form>
                    <div class="form-group">
                        <input type="search" class="form-control" aria-labelledby="searchInputLabel" placeholder="" id="mkdocs-search-query" title="Please enter search terms here">
                    </div>
                </form>
                <div id="mkdocs-search-results" data-no-results-text="No document matches found"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>
    
    
</body>

</html>